2013-03-21 15:34:00,272 - INFO  [main:HedwigHubTestBase@158] - STARTING null
2013-03-21 15:34:00,287 - INFO  [main:PortAssignment@32] - assigning port 11221
2013-03-21 15:34:00,418 - INFO  [main:ClientBase@388] - STARTING server
2013-03-21 15:34:00,426 - INFO  [main:Environment@98] - Server environment:zookeeper.version=3.4.3-1240972, built on 02/06/2012 10:48 GMT
2013-03-21 15:34:00,426 - INFO  [main:Environment@98] - Server environment:host.name=ly-PC
2013-03-21 15:34:00,427 - INFO  [main:Environment@98] - Server environment:java.version=1.7.0_01
2013-03-21 15:34:00,427 - INFO  [main:Environment@98] - Server environment:java.vendor=Oracle Corporation
2013-03-21 15:34:00,427 - INFO  [main:Environment@98] - Server environment:java.home=D:\Program Files (x86)\Java\jdk1.7.0_01\jre
2013-03-21 15:34:00,428 - INFO  [main:Environment@98] - Server environment:java.class.path=C:\Users\ly\Git\msgbus\hedwig-server\target\test-classes;C:\Users\ly\Git\msgbus\hedwig-server\target\classes;F:\cloud compute\maven\repository\junit\junit\4.8.1\junit-4.8.1.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-api\1.6.4\slf4j-api-1.6.4.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-log4j12\1.6.4\slf4j-log4j12-1.6.4.jar;C:\Users\ly\Git\msgbus\hedwig-client\target\classes;C:\Users\ly\Git\msgbus\hedwig-protocol\target\classes;F:\cloud compute\maven\repository\org\jboss\netty\netty\3.2.4.Final\netty-3.2.4.Final.jar;F:\cloud compute\maven\repository\commons-configuration\commons-configuration\1.6\commons-configuration-1.6.jar;F:\cloud compute\maven\repository\commons-collections\commons-collections\3.2.1\commons-collections-3.2.1.jar;F:\cloud compute\maven\repository\commons-lang\commons-lang\2.4\commons-lang-2.4.jar;F:\cloud compute\maven\repository\commons-digester\commons-digester\1.8\commons-digester-1.8.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils-core\1.8.0\commons-beanutils-core-1.8.0.jar;F:\cloud compute\maven\repository\org\apache\derby\derby\10.8.2.2\derby-10.8.2.2.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3-tests.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\classes;F:\cloud compute\maven\repository\com\google\protobuf\protobuf-java\2.4.1\protobuf-java-2.4.1.jar;F:\cloud compute\maven\repository\com\google\guava\guava\13.0.1\guava-13.0.1.jar;F:\cloud compute\maven\repository\commons-cli\commons-cli\1.2\commons-cli-1.2.jar;F:\cloud compute\maven\repository\commons-codec\commons-codec\1.6\commons-codec-1.6.jar;F:\cloud compute\maven\repository\commons-io\commons-io\2.1\commons-io-2.1.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\test-classes;F:\cloud compute\maven\repository\log4j\log4j\1.2.15\log4j-1.2.15.jar;F:\cloud compute\maven\repository\jline\jline\0.9.94\jline-0.9.94.jar;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.1.0\target\classes;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.0.0\target\classes;C:\Users\ly\Git\msgbus\msgbus-mq\target\classes;F:\cloud compute\maven\repository\com\netflix\curator\curator-client\1.2.3\curator-client-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-framework\1.2.3\curator-framework-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-recipes\1.2.3\curator-recipes-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-test\1.2.3\curator-test-1.2.3.jar;F:\cloud compute\maven\repository\org\javassist\javassist\3.15.0-GA\javassist-3.15.0-GA.jar;F:\cloud compute\maven\repository\org\apache\commons\commons-math\2.2\commons-math-2.2.jar;F:\cloud compute\maven\repository\commons-logging\commons-logging\1.1.1\commons-logging-1.1.1.jar;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/207/1/.cp/;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/206/1/.cp/
2013-03-21 15:34:00,428 - INFO  [main:Environment@98] - Server environment:java.library.path=D:\Program Files (x86)\Java\jdk1.7.0_01\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;D:/Program Files (x86)/Java/jre7/bin/client;D:/Program Files (x86)/Java/jre7/bin;D:/Program Files (x86)/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\Program Files (x86)\Git\cmd;D:\Program Files\TortoiseGit\bin;D:\Program Files (x86)\Rational\common;D:\Program Files\TortoiseSVN\bin;D:\Program Files (x86)\Java\jdk1.7.0_01\bin;F:\cloud compute\maven\apache-maven-3.0.4\bin;D:\Program Files (x86)\Git\bin;F:\cloud compute\eclipse;;.
2013-03-21 15:34:00,429 - INFO  [main:Environment@98] - Server environment:java.io.tmpdir=C:\Users\ly\AppData\Local\Temp\
2013-03-21 15:34:00,429 - INFO  [main:Environment@98] - Server environment:java.compiler=<NA>
2013-03-21 15:34:00,429 - INFO  [main:Environment@98] - Server environment:os.name=Windows 7
2013-03-21 15:34:00,430 - INFO  [main:Environment@98] - Server environment:os.arch=x86
2013-03-21 15:34:00,430 - INFO  [main:Environment@98] - Server environment:os.version=6.1
2013-03-21 15:34:00,430 - INFO  [main:Environment@98] - Server environment:user.name=ly
2013-03-21 15:34:00,431 - INFO  [main:Environment@98] - Server environment:user.home=C:\Users\ly
2013-03-21 15:34:00,431 - INFO  [main:Environment@98] - Server environment:user.dir=C:\Users\ly\Git\msgbus\hedwig-server
2013-03-21 15:34:00,445 - INFO  [main:ZooKeeperServer@171] - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir F:\test1\test62018785074032931.junit.dir\version-2 snapdir F:\test1\test62018785074032931.junit.dir\version-2
2013-03-21 15:34:00,476 - INFO  [main:NIOServerCnxnFactory@110] - binding to port 0.0.0.0/0.0.0.0:15000
2013-03-21 15:34:00,482 - INFO  [main:FileTxnSnapLog@238] - Snapshotting: 0x0 to F:\test1\test62018785074032931.junit.dir\version-2\snapshot.0
2013-03-21 15:34:00,504 - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 15000
2013-03-21 15:34:00,505 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51488
2013-03-21 15:34:00,509 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@820] - Processing stat command from /127.0.0.1:51488
2013-03-21 15:34:00,511 - INFO  [Thread-2:NIOServerCnxn$StatCommand@655] - Stat command output
2013-03-21 15:34:00,512 - INFO  [Thread-2:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51488 (no session established for client)
2013-03-21 15:34:00,512 - INFO  [main:JMXEnv@133] - ensureOnly:[InMemoryDataTree, StandaloneServer_port]
2013-03-21 15:34:00,515 - INFO  [main:JMXEnv@105] - expect:InMemoryDataTree
2013-03-21 15:34:00,515 - INFO  [main:JMXEnv@108] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=StandaloneServer_port-1,name1=InMemoryDataTree
2013-03-21 15:34:00,516 - INFO  [main:JMXEnv@105] - expect:StandaloneServer_port
2013-03-21 15:34:00,516 - INFO  [main:JMXEnv@108] - found:StandaloneServer_port org.apache.ZooKeeperService:name0=StandaloneServer_port-1
2013-03-21 15:34:00,516 - INFO  [main:ClientBase@384] - Client test setup finished
2013-03-21 15:34:00,521 - INFO  [main:Environment@98] - Client environment:zookeeper.version=3.4.3-1240972, built on 02/06/2012 10:48 GMT
2013-03-21 15:34:00,521 - INFO  [main:Environment@98] - Client environment:host.name=ly-PC
2013-03-21 15:34:00,521 - INFO  [main:Environment@98] - Client environment:java.version=1.7.0_01
2013-03-21 15:34:00,521 - INFO  [main:Environment@98] - Client environment:java.vendor=Oracle Corporation
2013-03-21 15:34:00,522 - INFO  [main:Environment@98] - Client environment:java.home=D:\Program Files (x86)\Java\jdk1.7.0_01\jre
2013-03-21 15:34:00,522 - INFO  [main:Environment@98] - Client environment:java.class.path=C:\Users\ly\Git\msgbus\hedwig-server\target\test-classes;C:\Users\ly\Git\msgbus\hedwig-server\target\classes;F:\cloud compute\maven\repository\junit\junit\4.8.1\junit-4.8.1.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-api\1.6.4\slf4j-api-1.6.4.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-log4j12\1.6.4\slf4j-log4j12-1.6.4.jar;C:\Users\ly\Git\msgbus\hedwig-client\target\classes;C:\Users\ly\Git\msgbus\hedwig-protocol\target\classes;F:\cloud compute\maven\repository\org\jboss\netty\netty\3.2.4.Final\netty-3.2.4.Final.jar;F:\cloud compute\maven\repository\commons-configuration\commons-configuration\1.6\commons-configuration-1.6.jar;F:\cloud compute\maven\repository\commons-collections\commons-collections\3.2.1\commons-collections-3.2.1.jar;F:\cloud compute\maven\repository\commons-lang\commons-lang\2.4\commons-lang-2.4.jar;F:\cloud compute\maven\repository\commons-digester\commons-digester\1.8\commons-digester-1.8.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils-core\1.8.0\commons-beanutils-core-1.8.0.jar;F:\cloud compute\maven\repository\org\apache\derby\derby\10.8.2.2\derby-10.8.2.2.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3-tests.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\classes;F:\cloud compute\maven\repository\com\google\protobuf\protobuf-java\2.4.1\protobuf-java-2.4.1.jar;F:\cloud compute\maven\repository\com\google\guava\guava\13.0.1\guava-13.0.1.jar;F:\cloud compute\maven\repository\commons-cli\commons-cli\1.2\commons-cli-1.2.jar;F:\cloud compute\maven\repository\commons-codec\commons-codec\1.6\commons-codec-1.6.jar;F:\cloud compute\maven\repository\commons-io\commons-io\2.1\commons-io-2.1.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\test-classes;F:\cloud compute\maven\repository\log4j\log4j\1.2.15\log4j-1.2.15.jar;F:\cloud compute\maven\repository\jline\jline\0.9.94\jline-0.9.94.jar;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.1.0\target\classes;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.0.0\target\classes;C:\Users\ly\Git\msgbus\msgbus-mq\target\classes;F:\cloud compute\maven\repository\com\netflix\curator\curator-client\1.2.3\curator-client-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-framework\1.2.3\curator-framework-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-recipes\1.2.3\curator-recipes-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-test\1.2.3\curator-test-1.2.3.jar;F:\cloud compute\maven\repository\org\javassist\javassist\3.15.0-GA\javassist-3.15.0-GA.jar;F:\cloud compute\maven\repository\org\apache\commons\commons-math\2.2\commons-math-2.2.jar;F:\cloud compute\maven\repository\commons-logging\commons-logging\1.1.1\commons-logging-1.1.1.jar;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/207/1/.cp/;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/206/1/.cp/
2013-03-21 15:34:00,522 - INFO  [main:Environment@98] - Client environment:java.library.path=D:\Program Files (x86)\Java\jdk1.7.0_01\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;D:/Program Files (x86)/Java/jre7/bin/client;D:/Program Files (x86)/Java/jre7/bin;D:/Program Files (x86)/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\Program Files (x86)\Git\cmd;D:\Program Files\TortoiseGit\bin;D:\Program Files (x86)\Rational\common;D:\Program Files\TortoiseSVN\bin;D:\Program Files (x86)\Java\jdk1.7.0_01\bin;F:\cloud compute\maven\apache-maven-3.0.4\bin;D:\Program Files (x86)\Git\bin;F:\cloud compute\eclipse;;.
2013-03-21 15:34:00,522 - INFO  [main:Environment@98] - Client environment:java.io.tmpdir=C:\Users\ly\AppData\Local\Temp\
2013-03-21 15:34:00,523 - INFO  [main:Environment@98] - Client environment:java.compiler=<NA>
2013-03-21 15:34:00,523 - INFO  [main:Environment@98] - Client environment:os.name=Windows 7
2013-03-21 15:34:00,523 - INFO  [main:Environment@98] - Client environment:os.arch=x86
2013-03-21 15:34:00,523 - INFO  [main:Environment@98] - Client environment:os.version=6.1
2013-03-21 15:34:00,523 - INFO  [main:Environment@98] - Client environment:user.name=ly
2013-03-21 15:34:00,523 - INFO  [main:Environment@98] - Client environment:user.home=C:\Users\ly
2013-03-21 15:34:00,524 - INFO  [main:Environment@98] - Client environment:user.dir=C:\Users\ly\Git\msgbus\hedwig-server
2013-03-21 15:34:00,525 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@fd899
2013-03-21 15:34:00,538 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:34:00,542 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:34:00,543 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:34:00,543 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51491
2013-03-21 15:34:00,546 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51491
2013-03-21 15:34:00,549 - INFO  [SyncThread:0:FileTxnLog@199] - Creating new log file: log.1
2013-03-21 15:34:00,582 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bde64270000 with negotiated timeout 30000 for client /127.0.0.1:51491
2013-03-21 15:34:00,582 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bde64270000, negotiated timeout = 30000
2013-03-21 15:34:00,585 - INFO  [main:JMXEnv@105] - expect:0x13d8bde64270000
2013-03-21 15:34:00,585 - INFO  [main:JMXEnv@108] - found:0x13d8bde64270000 org.apache.ZooKeeperService:name0=StandaloneServer_port-1,name1=Connections,name2=127.0.0.1,name3=0x13d8bde64270000
2013-03-21 15:34:00,694 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@1e7c41f
2013-03-21 15:34:00,699 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:34:00,699 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:34:00,700 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:34:00,700 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51494
2013-03-21 15:34:00,700 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51494
2013-03-21 15:34:00,719 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bde64270001 with negotiated timeout 10000 for client /127.0.0.1:51494
2013-03-21 15:34:00,719 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bde64270001, negotiated timeout = 10000
2013-03-21 15:34:00,721 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:34:00,919 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:34:00,919 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:34:00,924 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:34:00,925 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:34:00,928 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150016852600933199282582test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:34:00,936 - INFO  [BookieJournal-15001:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150016852600933199282582test\current\5e64ab.txn
2013-03-21 15:34:01,009 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@26a0ba
2013-03-21 15:34:01,014 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:34:01,014 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:34:01,015 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:34:01,015 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51499
2013-03-21 15:34:01,015 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51499
2013-03-21 15:34:01,071 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bde64270002 with negotiated timeout 10000 for client /127.0.0.1:51499
2013-03-21 15:34:01,071 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bde64270002, negotiated timeout = 10000
2013-03-21 15:34:01,072 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:34:01,130 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:34:01,130 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:34:01,131 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:34:01,131 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:34:01,131 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150024148462496856529137test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:34:01,134 - INFO  [BookieJournal-15002:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150024148462496856529137test\current\5e6572.txn
2013-03-21 15:34:01,154 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@90b317
2013-03-21 15:34:01,156 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:34:01,156 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:34:01,160 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:34:01,160 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51504
2013-03-21 15:34:01,160 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51504
2013-03-21 15:34:01,207 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bde64270003 with negotiated timeout 10000 for client /127.0.0.1:51504
2013-03-21 15:34:01,207 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bde64270003, negotiated timeout = 10000
2013-03-21 15:34:01,208 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:34:01,237 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:34:01,237 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:34:01,238 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:34:01,238 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:34:01,238 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150036378983563432764145test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:34:01,242 - INFO  [BookieJournal-15003:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150036378983563432764145test\current\5e65dd.txn
2013-03-21 15:34:01,284 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@13a0c0b
2013-03-21 15:34:01,286 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:34:01,287 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:34:01,287 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:34:01,287 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51509
2013-03-21 15:34:01,288 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51509
2013-03-21 15:34:01,315 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bde64270004 with negotiated timeout 10000 for client /127.0.0.1:51509
2013-03-21 15:34:01,317 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bde64270004, negotiated timeout = 10000
2013-03-21 15:34:01,352 - INFO  [Thread-7:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=2000 watcher=org.apache.hedwig.server.netty.PubSubServer$1@983d8d
2013-03-21 15:34:01,354 - INFO  [Thread-7-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:34:01,355 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:34:01,355 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:34:01,355 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51512
2013-03-21 15:34:01,356 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51512
2013-03-21 15:34:01,376 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bde64270005 with negotiated timeout 6000 for client /127.0.0.1:51512
2013-03-21 15:34:01,376 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bde64270005, negotiated timeout = 6000
2013-03-21 15:34:01,443 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bde64270005 type:create cxid:0x2 zxid:0x11 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/managers/METADATA Error:KeeperErrorCode = NoNode for /hedwig/standalone/managers/METADATA
2013-03-21 15:34:01,458 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bde64270005 type:create cxid:0x3 zxid:0x12 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/managers Error:KeeperErrorCode = NoNode for /hedwig/standalone/managers
2013-03-21 15:34:01,477 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bde64270005 type:create cxid:0x4 zxid:0x13 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone Error:KeeperErrorCode = NoNode for /hedwig/standalone
2013-03-21 15:34:01,490 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bde64270005 type:create cxid:0x5 zxid:0x14 txntype:-1 reqpath:n/a Error Path:/hedwig Error:KeeperErrorCode = NoNode for /hedwig
2013-03-21 15:34:01,535 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig..................................... is created
2013-03-21 15:34:01,549 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone..................................... is created
2013-03-21 15:34:01,576 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers..................................... is created
2013-03-21 15:34:01,590 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers/METADATA..................................... is created
2013-03-21 15:34:01,609 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers/METADATA/LAYOUT..................................... is created
2013-03-21 15:34:01,621 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bde64270005 type:create cxid:0xb zxid:0x1a txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/hosts Error:KeeperErrorCode = NoNode for /hedwig/standalone/hosts
2013-03-21 15:34:01,656 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/hosts..................................... is created
2013-03-21 15:34:01,676 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/hosts/192.168.0.155:60000:60001..................................... is created
2013-03-21 15:34:01,678 - INFO  [Thread-7-EventThread:ZkTopicManager$2@104] - Successfully registered hub hostname: "192.168.0.155:60000:60001"
czxid: 28
 with zookeeper
2013-03-21 15:34:01,730 - INFO  [Thread-7:PubSubServer@269] - Going into receive loop
2013-03-21 15:34:01,859 - INFO  [Thread-7:PubSubServer@269] - Going into receive loop
2013-03-21 15:34:01,862 - INFO  [main:HedwigHubTestBase@162] - HedwigHub test setup finished
2013-03-21 15:34:01,928 - INFO  [Thread-7-EventThread:ZkTopicManager$ZkGetOwnerOp$1@166] - 192.168.0.155:60000:60001 : Least loaded owner hostname: "192.168.0.155:60000:60001"
czxid: 28
 is chosen for topic messageQueue-test
2013-03-21 15:34:01,929 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bde64270005 type:create cxid:0x14 zxid:0x1d txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics/messageQueue-test Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics/messageQueue-test
2013-03-21 15:34:01,951 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bde64270005 type:create cxid:0x15 zxid:0x1e txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics
2013-03-21 15:34:02,039 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics..................................... is created
2013-03-21 15:34:02,066 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test..................................... is created
2013-03-21 15:34:02,081 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/hub..................................... is created
2013-03-21 15:34:02,095 - INFO  [Thread-7-EventThread:BookkeeperPersistenceManager$AcquireOp@870] - Process 0 ledgers for topic messageQueue-test starting from seq id 1.
2013-03-21 15:34:02,102 - INFO  [Thread-7-EventThread:AbstractSubscriptionManager$AcquireOp$1$1@192] - Subscription manager successfully acquired topic: messageQueue-test
2013-03-21 15:34:02,159 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/ledgers..................................... is created
2013-03-21 15:34:02,161 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bde64270005 type:create cxid:0x1e zxid:0x25 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics/messageQueue-test/subscribers Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics/messageQueue-test/subscribers
2013-03-21 15:34:02,192 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/subscribers..................................... is created
2013-03-21 15:34:02,209 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/subscribers/@q_subid..................................... is created
2013-03-21 15:34:02,211 - INFO  [Thread-7-EventThread:CallbackUtils$3@148] - [standalone] all cross-region subscriptions succeeded
2013-03-21 15:34:02,232 - INFO  [pool-15-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15002
2013-03-21 15:34:02,255 - INFO  [pool-15-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15003
2013-03-21 15:34:02,262 - INFO  [New I/O client worker #2-1:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15002
2013-03-21 15:34:02,264 - INFO  [New I/O client worker #2-2:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15003
2013-03-21 15:34:02,371 - INFO  [pool-15-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15001
2013-03-21 15:34:02,459 - INFO  [New I/O client worker #2-3:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15001
2013-03-21 15:34:02,898 - INFO  [Thread-7-EventThread:SubscribeHandler$1@200] - Subscribe request (2) for (topic:messageQueue-test, subscriber:@q_subid) from channel /127.0.0.1:51549 succeed - its subscription data is State : { consumeSeqId: local:0 };Preferences : { System Preferences : [] };
2013-03-21 15:34:02,903 - INFO  [pool-8-thread-1:SubscribeHandler$1@200] - Subscribe request (2) for (topic:messageQueue-test, subscriber:@q_subid) from channel /127.0.0.1:51550 succeed - its subscription data is State : { consumeSeqId: local:0 };Preferences : { System Preferences : [] };
2013-03-21 15:34:02,905 - INFO  [Thread-12:HedwigClientImpl@109] - Stopping the client!
2013-03-21 15:34:02,905 - INFO  [Thread-12:AbstractHChannelManager@572] - Shutting down the channels manager.
2013-03-21 15:34:02,906 - INFO  [New I/O server worker #1-5:SubscriptionChannelManager@87] - Subscription channel /127.0.0.1:51550 for Topic: messageQueue-test, SubscriberId: @q_subid is disconnected.
2013-03-21 15:34:02,909 - INFO  [Thread-12:HedwigClientImpl@119] - Completed stopping the client!
2013-03-21 15:34:02,928 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:34:02,933 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1164] - Expired ConsumeSeq: 51
2013-03-21 15:34:02,957 - INFO  [New I/O server worker #1-4:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 1
2013-03-21 15:34:02,957 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:34:02,993 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:34:03,000 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:34:03,001 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1164] - Expired ConsumeSeq: 380
2013-03-21 15:34:03,009 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1164] - Expired ConsumeSeq: 410
2013-03-21 15:34:03,090 - INFO  [New I/O server worker #1-4:SubscriptionChannelManager@87] - Subscription channel /127.0.0.1:51549 for Topic: messageQueue-test, SubscriberId: @q_subid is disconnected.
2013-03-21 15:34:03,090 - INFO  [DeliveryManagerThread:FIFODeliveryManager$RemoveChannelForQueueRequest@1304] - Subscriber Topic: messageQueue-test, SubscriberId: @q_subid will be removed.
2013-03-21 15:34:03,090 - INFO  [DeliveryManagerThread:FIFODeliveryManager$RemoveChannelForQueueRequest@1306] - Last consumed seq: 997
2013-03-21 15:34:17,788 - INFO  [main:HedwigHubTestBase@168] - tearDown starting
2013-03-21 15:34:17,839 - INFO  [main:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15001
2013-03-21 15:34:17,840 - INFO  [main:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15002
2013-03-21 15:34:17,842 - INFO  [main:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15003
2013-03-21 15:34:17,844 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bde64270005
2013-03-21 15:34:17,860 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bde64270005 closed
2013-03-21 15:34:17,860 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51512 which had sessionid 0x13d8bde64270005
2013-03-21 15:34:17,860 - INFO  [Thread-7-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:34:17,863 - INFO  [New I/O client worker #3-1:HChannelHandler@247] - Channel [id: 0x0127706d, /127.0.0.1:51517 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 15:34:17,863 - INFO  [New I/O client worker #3-1:AbstractHChannelManager@344] - NonSubscription Channel [id: 0x0127706d, /127.0.0.1:51517 :> localhost/127.0.0.1:60000] to localhost/127.0.0.1:60000 disconnected.
2013-03-21 15:34:17,864 - INFO  [New I/O client worker #5-1:HChannelHandler@247] - Channel [id: 0x00dd8bec, /127.0.0.1:51536 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 15:34:17,864 - INFO  [New I/O client worker #5-1:AbstractHChannelManager@344] - NonSubscription Channel [id: 0x00dd8bec, /127.0.0.1:51536 :> localhost/127.0.0.1:60000] to localhost/127.0.0.1:60000 disconnected.
2013-03-21 15:34:17,869 - WARN  [NIOServerFactory-15001:NIOServerFactory@128] - Exception in server socket loop: /0:0:0:0:0:0:0:0
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.bookkeeper.proto.NIOServerFactory.run(NIOServerFactory.java:115)
2013-03-21 15:34:17,870 - INFO  [NIOServerFactory-15001:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:34:17,870 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bde64270001
2013-03-21 15:34:17,888 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bde64270001 closed
2013-03-21 15:34:17,888 - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@349] - caught end of stream exception
EndOfStreamException: Unable to read additional data from client sessionid 0x13d8bde64270001, likely client has closed socket
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:220)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:224)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:34:17,889 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51494 which had sessionid 0x13d8bde64270001
2013-03-21 15:34:17,889 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:34:17,889 - INFO  [Thread-4:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:34:17,890 - WARN  [BookieJournal-15001:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:34:17,907 - WARN  [NIOServerFactory-15002:NIOServerFactory@128] - Exception in server socket loop: /0:0:0:0:0:0:0:0
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.bookkeeper.proto.NIOServerFactory.run(NIOServerFactory.java:115)
2013-03-21 15:34:17,907 - INFO  [NIOServerFactory-15002:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:34:17,908 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bde64270002
2013-03-21 15:34:17,939 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51499 which had sessionid 0x13d8bde64270002
2013-03-21 15:34:17,941 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bde64270002 closed
2013-03-21 15:34:17,942 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:34:17,942 - INFO  [Thread-5:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:34:17,943 - WARN  [BookieJournal-15002:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:34:17,967 - WARN  [NIOServerFactory-15003:NIOServerFactory@128] - Exception in server socket loop: /0:0:0:0:0:0:0:0
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.bookkeeper.proto.NIOServerFactory.run(NIOServerFactory.java:115)
2013-03-21 15:34:17,967 - INFO  [NIOServerFactory-15003:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:34:17,968 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bde64270003
2013-03-21 15:34:18,005 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51504 which had sessionid 0x13d8bde64270003
2013-03-21 15:34:18,005 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:34:18,005 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bde64270003 closed
2013-03-21 15:34:18,006 - INFO  [Thread-6:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:34:18,006 - WARN  [BookieJournal-15003:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:34:18,030 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bde64270004
2013-03-21 15:34:18,058 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bde64270004 closed
2013-03-21 15:34:18,058 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51509 which had sessionid 0x13d8bde64270004
2013-03-21 15:34:18,058 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:34:18,059 - INFO  [main:ClientBase@425] - tearDown starting
2013-03-21 15:34:18,060 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bde64270000
2013-03-21 15:34:18,080 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51491 which had sessionid 0x13d8bde64270000
2013-03-21 15:34:18,081 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bde64270000 closed
2013-03-21 15:34:18,085 - INFO  [main:ClientBase@395] - STOPPING server
2013-03-21 15:34:18,087 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:34:18,088 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@240] - NIOServerCnxn factory exited run method
2013-03-21 15:34:18,089 - INFO  [main:ZooKeeperServer@428] - shutting down
2013-03-21 15:34:18,089 - INFO  [main:SessionTrackerImpl@220] - Shutting down
2013-03-21 15:34:18,089 - INFO  [main:PrepRequestProcessor@733] - Shutting down
2013-03-21 15:34:18,090 - INFO  [main:SyncRequestProcessor@173] - Shutting down
2013-03-21 15:34:18,090 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@135] - PrepRequestProcessor exited loop!
2013-03-21 15:34:18,090 - INFO  [SyncThread:0:SyncRequestProcessor@155] - SyncRequestProcessor exited!
2013-03-21 15:34:18,090 - INFO  [main:FinalRequestProcessor@414] - shutdown of request processor complete
2013-03-21 15:34:18,091 - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 15000
2013-03-21 15:34:19,091 - INFO  [main:JMXEnv@133] - ensureOnly:[]
2013-03-21 15:34:19,097 - INFO  [main:HedwigHubTestBase@171] - FINISHED null
2013-03-21 15:39:21,929 - INFO  [main:HedwigHubTestBase@158] - STARTING null
2013-03-21 15:39:21,945 - INFO  [main:PortAssignment@32] - assigning port 11221
2013-03-21 15:39:22,075 - INFO  [main:ClientBase@388] - STARTING server
2013-03-21 15:39:22,082 - INFO  [main:Environment@98] - Server environment:zookeeper.version=3.4.3-1240972, built on 02/06/2012 10:48 GMT
2013-03-21 15:39:22,082 - INFO  [main:Environment@98] - Server environment:host.name=ly-PC
2013-03-21 15:39:22,083 - INFO  [main:Environment@98] - Server environment:java.version=1.7.0_01
2013-03-21 15:39:22,083 - INFO  [main:Environment@98] - Server environment:java.vendor=Oracle Corporation
2013-03-21 15:39:22,083 - INFO  [main:Environment@98] - Server environment:java.home=D:\Program Files (x86)\Java\jdk1.7.0_01\jre
2013-03-21 15:39:22,084 - INFO  [main:Environment@98] - Server environment:java.class.path=C:\Users\ly\Git\msgbus\hedwig-server\target\test-classes;C:\Users\ly\Git\msgbus\hedwig-server\target\classes;F:\cloud compute\maven\repository\junit\junit\4.8.1\junit-4.8.1.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-api\1.6.4\slf4j-api-1.6.4.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-log4j12\1.6.4\slf4j-log4j12-1.6.4.jar;C:\Users\ly\Git\msgbus\hedwig-client\target\classes;C:\Users\ly\Git\msgbus\hedwig-protocol\target\classes;F:\cloud compute\maven\repository\org\jboss\netty\netty\3.2.4.Final\netty-3.2.4.Final.jar;F:\cloud compute\maven\repository\commons-configuration\commons-configuration\1.6\commons-configuration-1.6.jar;F:\cloud compute\maven\repository\commons-collections\commons-collections\3.2.1\commons-collections-3.2.1.jar;F:\cloud compute\maven\repository\commons-lang\commons-lang\2.4\commons-lang-2.4.jar;F:\cloud compute\maven\repository\commons-digester\commons-digester\1.8\commons-digester-1.8.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils-core\1.8.0\commons-beanutils-core-1.8.0.jar;F:\cloud compute\maven\repository\org\apache\derby\derby\10.8.2.2\derby-10.8.2.2.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3-tests.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\classes;F:\cloud compute\maven\repository\com\google\protobuf\protobuf-java\2.4.1\protobuf-java-2.4.1.jar;F:\cloud compute\maven\repository\com\google\guava\guava\13.0.1\guava-13.0.1.jar;F:\cloud compute\maven\repository\commons-cli\commons-cli\1.2\commons-cli-1.2.jar;F:\cloud compute\maven\repository\commons-codec\commons-codec\1.6\commons-codec-1.6.jar;F:\cloud compute\maven\repository\commons-io\commons-io\2.1\commons-io-2.1.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\test-classes;F:\cloud compute\maven\repository\log4j\log4j\1.2.15\log4j-1.2.15.jar;F:\cloud compute\maven\repository\jline\jline\0.9.94\jline-0.9.94.jar;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.1.0\target\classes;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.0.0\target\classes;C:\Users\ly\Git\msgbus\msgbus-mq\target\classes;F:\cloud compute\maven\repository\com\netflix\curator\curator-client\1.2.3\curator-client-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-framework\1.2.3\curator-framework-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-recipes\1.2.3\curator-recipes-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-test\1.2.3\curator-test-1.2.3.jar;F:\cloud compute\maven\repository\org\javassist\javassist\3.15.0-GA\javassist-3.15.0-GA.jar;F:\cloud compute\maven\repository\org\apache\commons\commons-math\2.2\commons-math-2.2.jar;F:\cloud compute\maven\repository\commons-logging\commons-logging\1.1.1\commons-logging-1.1.1.jar;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/207/1/.cp/;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/206/1/.cp/
2013-03-21 15:39:22,085 - INFO  [main:Environment@98] - Server environment:java.library.path=D:\Program Files (x86)\Java\jdk1.7.0_01\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;D:/Program Files (x86)/Java/jre7/bin/client;D:/Program Files (x86)/Java/jre7/bin;D:/Program Files (x86)/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\Program Files (x86)\Git\cmd;D:\Program Files\TortoiseGit\bin;D:\Program Files (x86)\Rational\common;D:\Program Files\TortoiseSVN\bin;D:\Program Files (x86)\Java\jdk1.7.0_01\bin;F:\cloud compute\maven\apache-maven-3.0.4\bin;D:\Program Files (x86)\Git\bin;F:\cloud compute\eclipse;;.
2013-03-21 15:39:22,085 - INFO  [main:Environment@98] - Server environment:java.io.tmpdir=C:\Users\ly\AppData\Local\Temp\
2013-03-21 15:39:22,085 - INFO  [main:Environment@98] - Server environment:java.compiler=<NA>
2013-03-21 15:39:22,086 - INFO  [main:Environment@98] - Server environment:os.name=Windows 7
2013-03-21 15:39:22,086 - INFO  [main:Environment@98] - Server environment:os.arch=x86
2013-03-21 15:39:22,086 - INFO  [main:Environment@98] - Server environment:os.version=6.1
2013-03-21 15:39:22,087 - INFO  [main:Environment@98] - Server environment:user.name=ly
2013-03-21 15:39:22,087 - INFO  [main:Environment@98] - Server environment:user.home=C:\Users\ly
2013-03-21 15:39:22,087 - INFO  [main:Environment@98] - Server environment:user.dir=C:\Users\ly\Git\msgbus\hedwig-server
2013-03-21 15:39:22,101 - INFO  [main:ZooKeeperServer@171] - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir F:\test1\test2641565607546577157.junit.dir\version-2 snapdir F:\test1\test2641565607546577157.junit.dir\version-2
2013-03-21 15:39:22,113 - INFO  [main:NIOServerCnxnFactory@110] - binding to port 0.0.0.0/0.0.0.0:15000
2013-03-21 15:39:22,119 - INFO  [main:FileTxnSnapLog@238] - Snapshotting: 0x0 to F:\test1\test2641565607546577157.junit.dir\version-2\snapshot.0
2013-03-21 15:39:22,140 - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 15000
2013-03-21 15:39:22,142 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51593
2013-03-21 15:39:22,145 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@820] - Processing stat command from /127.0.0.1:51593
2013-03-21 15:39:22,147 - INFO  [Thread-2:NIOServerCnxn$StatCommand@655] - Stat command output
2013-03-21 15:39:22,148 - INFO  [Thread-2:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51593 (no session established for client)
2013-03-21 15:39:22,148 - INFO  [main:JMXEnv@133] - ensureOnly:[InMemoryDataTree, StandaloneServer_port]
2013-03-21 15:39:22,152 - INFO  [main:JMXEnv@105] - expect:InMemoryDataTree
2013-03-21 15:39:22,152 - INFO  [main:JMXEnv@108] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=StandaloneServer_port-1,name1=InMemoryDataTree
2013-03-21 15:39:22,153 - INFO  [main:JMXEnv@105] - expect:StandaloneServer_port
2013-03-21 15:39:22,153 - INFO  [main:JMXEnv@108] - found:StandaloneServer_port org.apache.ZooKeeperService:name0=StandaloneServer_port-1
2013-03-21 15:39:22,153 - INFO  [main:ClientBase@384] - Client test setup finished
2013-03-21 15:39:22,158 - INFO  [main:Environment@98] - Client environment:zookeeper.version=3.4.3-1240972, built on 02/06/2012 10:48 GMT
2013-03-21 15:39:22,158 - INFO  [main:Environment@98] - Client environment:host.name=ly-PC
2013-03-21 15:39:22,158 - INFO  [main:Environment@98] - Client environment:java.version=1.7.0_01
2013-03-21 15:39:22,158 - INFO  [main:Environment@98] - Client environment:java.vendor=Oracle Corporation
2013-03-21 15:39:22,159 - INFO  [main:Environment@98] - Client environment:java.home=D:\Program Files (x86)\Java\jdk1.7.0_01\jre
2013-03-21 15:39:22,159 - INFO  [main:Environment@98] - Client environment:java.class.path=C:\Users\ly\Git\msgbus\hedwig-server\target\test-classes;C:\Users\ly\Git\msgbus\hedwig-server\target\classes;F:\cloud compute\maven\repository\junit\junit\4.8.1\junit-4.8.1.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-api\1.6.4\slf4j-api-1.6.4.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-log4j12\1.6.4\slf4j-log4j12-1.6.4.jar;C:\Users\ly\Git\msgbus\hedwig-client\target\classes;C:\Users\ly\Git\msgbus\hedwig-protocol\target\classes;F:\cloud compute\maven\repository\org\jboss\netty\netty\3.2.4.Final\netty-3.2.4.Final.jar;F:\cloud compute\maven\repository\commons-configuration\commons-configuration\1.6\commons-configuration-1.6.jar;F:\cloud compute\maven\repository\commons-collections\commons-collections\3.2.1\commons-collections-3.2.1.jar;F:\cloud compute\maven\repository\commons-lang\commons-lang\2.4\commons-lang-2.4.jar;F:\cloud compute\maven\repository\commons-digester\commons-digester\1.8\commons-digester-1.8.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils-core\1.8.0\commons-beanutils-core-1.8.0.jar;F:\cloud compute\maven\repository\org\apache\derby\derby\10.8.2.2\derby-10.8.2.2.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3-tests.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\classes;F:\cloud compute\maven\repository\com\google\protobuf\protobuf-java\2.4.1\protobuf-java-2.4.1.jar;F:\cloud compute\maven\repository\com\google\guava\guava\13.0.1\guava-13.0.1.jar;F:\cloud compute\maven\repository\commons-cli\commons-cli\1.2\commons-cli-1.2.jar;F:\cloud compute\maven\repository\commons-codec\commons-codec\1.6\commons-codec-1.6.jar;F:\cloud compute\maven\repository\commons-io\commons-io\2.1\commons-io-2.1.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\test-classes;F:\cloud compute\maven\repository\log4j\log4j\1.2.15\log4j-1.2.15.jar;F:\cloud compute\maven\repository\jline\jline\0.9.94\jline-0.9.94.jar;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.1.0\target\classes;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.0.0\target\classes;C:\Users\ly\Git\msgbus\msgbus-mq\target\classes;F:\cloud compute\maven\repository\com\netflix\curator\curator-client\1.2.3\curator-client-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-framework\1.2.3\curator-framework-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-recipes\1.2.3\curator-recipes-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-test\1.2.3\curator-test-1.2.3.jar;F:\cloud compute\maven\repository\org\javassist\javassist\3.15.0-GA\javassist-3.15.0-GA.jar;F:\cloud compute\maven\repository\org\apache\commons\commons-math\2.2\commons-math-2.2.jar;F:\cloud compute\maven\repository\commons-logging\commons-logging\1.1.1\commons-logging-1.1.1.jar;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/207/1/.cp/;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/206/1/.cp/
2013-03-21 15:39:22,159 - INFO  [main:Environment@98] - Client environment:java.library.path=D:\Program Files (x86)\Java\jdk1.7.0_01\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;D:/Program Files (x86)/Java/jre7/bin/client;D:/Program Files (x86)/Java/jre7/bin;D:/Program Files (x86)/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\Program Files (x86)\Git\cmd;D:\Program Files\TortoiseGit\bin;D:\Program Files (x86)\Rational\common;D:\Program Files\TortoiseSVN\bin;D:\Program Files (x86)\Java\jdk1.7.0_01\bin;F:\cloud compute\maven\apache-maven-3.0.4\bin;D:\Program Files (x86)\Git\bin;F:\cloud compute\eclipse;;.
2013-03-21 15:39:22,159 - INFO  [main:Environment@98] - Client environment:java.io.tmpdir=C:\Users\ly\AppData\Local\Temp\
2013-03-21 15:39:22,160 - INFO  [main:Environment@98] - Client environment:java.compiler=<NA>
2013-03-21 15:39:22,160 - INFO  [main:Environment@98] - Client environment:os.name=Windows 7
2013-03-21 15:39:22,160 - INFO  [main:Environment@98] - Client environment:os.arch=x86
2013-03-21 15:39:22,160 - INFO  [main:Environment@98] - Client environment:os.version=6.1
2013-03-21 15:39:22,160 - INFO  [main:Environment@98] - Client environment:user.name=ly
2013-03-21 15:39:22,161 - INFO  [main:Environment@98] - Client environment:user.home=C:\Users\ly
2013-03-21 15:39:22,161 - INFO  [main:Environment@98] - Client environment:user.dir=C:\Users\ly\Git\msgbus\hedwig-server
2013-03-21 15:39:22,162 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@fd899
2013-03-21 15:39:22,177 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:39:22,181 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:39:22,183 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51596
2013-03-21 15:39:22,183 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:39:22,185 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51596
2013-03-21 15:39:22,189 - INFO  [SyncThread:0:FileTxnLog@199] - Creating new log file: log.1
2013-03-21 15:39:22,214 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be34c8c0000 with negotiated timeout 30000 for client /127.0.0.1:51596
2013-03-21 15:39:22,214 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be34c8c0000, negotiated timeout = 30000
2013-03-21 15:39:22,218 - INFO  [main:JMXEnv@105] - expect:0x13d8be34c8c0000
2013-03-21 15:39:22,218 - INFO  [main:JMXEnv@108] - found:0x13d8be34c8c0000 org.apache.ZooKeeperService:name0=StandaloneServer_port-1,name1=Connections,name2=127.0.0.1,name3=0x13d8be34c8c0000
2013-03-21 15:39:22,308 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@1e7c41f
2013-03-21 15:39:22,311 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:39:22,311 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:39:22,312 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51599
2013-03-21 15:39:22,312 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:39:22,322 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51599
2013-03-21 15:39:22,340 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be34c8c0001 with negotiated timeout 10000 for client /127.0.0.1:51599
2013-03-21 15:39:22,340 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be34c8c0001, negotiated timeout = 10000
2013-03-21 15:39:22,343 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:39:22,529 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:39:22,529 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:39:22,536 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:39:22,536 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:39:22,540 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150018416556344072394329test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:39:22,550 - INFO  [BookieJournal-15001:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150018416556344072394329test\current\634cf5.txn
2013-03-21 15:39:22,573 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@26a725
2013-03-21 15:39:22,575 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:39:22,576 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:39:22,576 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:39:22,576 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51604
2013-03-21 15:39:22,577 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51604
2013-03-21 15:39:22,626 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be34c8c0002 with negotiated timeout 10000 for client /127.0.0.1:51604
2013-03-21 15:39:22,626 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be34c8c0002, negotiated timeout = 10000
2013-03-21 15:39:22,627 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:39:22,720 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:39:22,720 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:39:22,721 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:39:22,721 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:39:22,722 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150021029700104463753656test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:39:22,728 - INFO  [BookieJournal-15002:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150021029700104463753656test\current\634da8.txn
2013-03-21 15:39:22,782 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@18f110d
2013-03-21 15:39:22,785 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:39:22,786 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:39:22,787 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:39:22,787 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51609
2013-03-21 15:39:22,788 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51609
2013-03-21 15:39:22,831 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be34c8c0003 with negotiated timeout 10000 for client /127.0.0.1:51609
2013-03-21 15:39:22,831 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be34c8c0003, negotiated timeout = 10000
2013-03-21 15:39:22,832 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:39:22,860 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:39:22,860 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:39:22,860 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:39:22,861 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:39:22,861 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150036459235591701627050test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:39:22,864 - INFO  [BookieJournal-15003:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150036459235591701627050test\current\634e30.txn
2013-03-21 15:39:22,901 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@148d778
2013-03-21 15:39:22,904 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:39:22,904 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:39:22,905 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:39:22,905 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51614
2013-03-21 15:39:22,905 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51614
2013-03-21 15:39:22,937 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be34c8c0004 with negotiated timeout 10000 for client /127.0.0.1:51614
2013-03-21 15:39:22,937 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be34c8c0004, negotiated timeout = 10000
2013-03-21 15:39:22,974 - INFO  [Thread-7:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=2000 watcher=org.apache.hedwig.server.netty.PubSubServer$1@18d042a
2013-03-21 15:39:22,976 - INFO  [Thread-7-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:39:22,976 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:39:22,976 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:39:22,976 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51617
2013-03-21 15:39:22,977 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51617
2013-03-21 15:39:22,998 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be34c8c0005 with negotiated timeout 6000 for client /127.0.0.1:51617
2013-03-21 15:39:22,998 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be34c8c0005, negotiated timeout = 6000
2013-03-21 15:39:23,066 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be34c8c0005 type:create cxid:0x2 zxid:0x11 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/managers/METADATA Error:KeeperErrorCode = NoNode for /hedwig/standalone/managers/METADATA
2013-03-21 15:39:23,080 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be34c8c0005 type:create cxid:0x3 zxid:0x12 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/managers Error:KeeperErrorCode = NoNode for /hedwig/standalone/managers
2013-03-21 15:39:23,099 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be34c8c0005 type:create cxid:0x4 zxid:0x13 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone Error:KeeperErrorCode = NoNode for /hedwig/standalone
2013-03-21 15:39:23,116 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be34c8c0005 type:create cxid:0x5 zxid:0x14 txntype:-1 reqpath:n/a Error Path:/hedwig Error:KeeperErrorCode = NoNode for /hedwig
2013-03-21 15:39:23,148 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig..................................... is created
2013-03-21 15:39:23,162 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone..................................... is created
2013-03-21 15:39:23,181 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers..................................... is created
2013-03-21 15:39:23,195 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers/METADATA..................................... is created
2013-03-21 15:39:23,208 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers/METADATA/LAYOUT..................................... is created
2013-03-21 15:39:23,216 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be34c8c0005 type:create cxid:0xb zxid:0x1a txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/hosts Error:KeeperErrorCode = NoNode for /hedwig/standalone/hosts
2013-03-21 15:39:23,252 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/hosts..................................... is created
2013-03-21 15:39:23,270 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/hosts/192.168.0.155:60000:60001..................................... is created
2013-03-21 15:39:23,274 - INFO  [Thread-7-EventThread:ZkTopicManager$2@104] - Successfully registered hub hostname: "192.168.0.155:60000:60001"
czxid: 28
 with zookeeper
2013-03-21 15:39:23,335 - INFO  [Thread-7:PubSubServer@269] - Going into receive loop
2013-03-21 15:39:23,457 - INFO  [Thread-7:PubSubServer@269] - Going into receive loop
2013-03-21 15:39:23,461 - INFO  [main:HedwigHubTestBase@162] - HedwigHub test setup finished
2013-03-21 15:39:23,541 - INFO  [Thread-7-EventThread:ZkTopicManager$ZkGetOwnerOp$1@166] - 192.168.0.155:60000:60001 : Least loaded owner hostname: "192.168.0.155:60000:60001"
czxid: 28
 is chosen for topic messageQueue-test
2013-03-21 15:39:23,542 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be34c8c0005 type:create cxid:0x14 zxid:0x1d txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics/messageQueue-test Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics/messageQueue-test
2013-03-21 15:39:23,565 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be34c8c0005 type:create cxid:0x15 zxid:0x1e txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics
2013-03-21 15:39:23,597 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics..................................... is created
2013-03-21 15:39:23,616 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test..................................... is created
2013-03-21 15:39:23,628 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/hub..................................... is created
2013-03-21 15:39:23,636 - INFO  [Thread-7-EventThread:BookkeeperPersistenceManager$AcquireOp@870] - Process 0 ledgers for topic messageQueue-test starting from seq id 1.
2013-03-21 15:39:23,645 - INFO  [Thread-7-EventThread:AbstractSubscriptionManager$AcquireOp$1$1@192] - Subscription manager successfully acquired topic: messageQueue-test
2013-03-21 15:39:23,697 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/ledgers..................................... is created
2013-03-21 15:39:23,701 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be34c8c0005 type:create cxid:0x1e zxid:0x25 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics/messageQueue-test/subscribers Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics/messageQueue-test/subscribers
2013-03-21 15:39:23,732 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/subscribers..................................... is created
2013-03-21 15:39:23,751 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/subscribers/@q_subid..................................... is created
2013-03-21 15:39:23,753 - INFO  [Thread-7-EventThread:CallbackUtils$3@148] - [standalone] all cross-region subscriptions succeeded
2013-03-21 15:39:23,764 - INFO  [pool-16-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15002
2013-03-21 15:39:23,780 - INFO  [pool-16-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15001
2013-03-21 15:39:23,787 - INFO  [New I/O client worker #2-2:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15001
2013-03-21 15:39:23,789 - INFO  [New I/O client worker #2-1:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15002
2013-03-21 15:39:23,922 - INFO  [pool-16-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15003
2013-03-21 15:39:23,935 - INFO  [New I/O client worker #2-3:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15003
2013-03-21 15:39:24,465 - INFO  [Thread-7-EventThread:SubscribeHandler$1@200] - Subscribe request (2) for (topic:messageQueue-test, subscriber:@q_subid) from channel /127.0.0.1:51654 succeed - its subscription data is State : { consumeSeqId: local:0 };Preferences : { System Preferences : [] };
2013-03-21 15:39:24,466 - INFO  [pool-8-thread-1:SubscribeHandler$1@200] - Subscribe request (2) for (topic:messageQueue-test, subscriber:@q_subid) from channel /127.0.0.1:51655 succeed - its subscription data is State : { consumeSeqId: local:0 };Preferences : { System Preferences : [] };
2013-03-21 15:39:24,467 - INFO  [Thread-12:HedwigClientImpl@109] - Stopping the client!
2013-03-21 15:39:24,467 - INFO  [Thread-12:AbstractHChannelManager@572] - Shutting down the channels manager.
2013-03-21 15:39:24,468 - INFO  [New I/O server worker #1-4:SubscriptionChannelManager@87] - Subscription channel /127.0.0.1:51654 for Topic: messageQueue-test, SubscriberId: @q_subid is disconnected.
2013-03-21 15:39:24,469 - INFO  [Thread-12:HedwigClientImpl@119] - Completed stopping the client!
2013-03-21 15:39:24,489 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 1
2013-03-21 15:39:24,489 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,497 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,499 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,507 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1164] - Expired ConsumeSeq: 120
2013-03-21 15:39:24,509 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1164] - Expired ConsumeSeq: 125
2013-03-21 15:39:24,511 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,511 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 2
2013-03-21 15:39:24,513 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,513 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 3
2013-03-21 15:39:24,513 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 4
2013-03-21 15:39:24,513 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,515 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,515 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 5
2013-03-21 15:39:24,515 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 6
2013-03-21 15:39:24,515 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,517 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,517 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 7
2013-03-21 15:39:24,517 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 8
2013-03-21 15:39:24,518 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,519 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,519 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 9
2013-03-21 15:39:24,520 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 10
2013-03-21 15:39:24,520 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,522 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,522 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 11
2013-03-21 15:39:24,522 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 12
2013-03-21 15:39:24,522 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,524 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,524 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 13
2013-03-21 15:39:24,524 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 14
2013-03-21 15:39:24,524 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,526 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,526 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 15
2013-03-21 15:39:24,526 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 16
2013-03-21 15:39:24,527 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,529 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,529 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 17
2013-03-21 15:39:24,529 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 18
2013-03-21 15:39:24,530 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,532 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,532 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 19
2013-03-21 15:39:24,533 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 20
2013-03-21 15:39:24,533 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,540 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,540 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 21
2013-03-21 15:39:24,540 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 22
2013-03-21 15:39:24,543 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,559 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,559 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 23
2013-03-21 15:39:24,559 - INFO  [New I/O server worker #1-5:FIFODeliveryManager$ActiveSubscriberState@578] - Stop delivering next message. count= 24
2013-03-21 15:39:24,560 - INFO  [DeliveryManagerThread:FIFODeliveryManager$ConsumerCluster@1128] - Try to wake up subscriber to deliver messages again.
2013-03-21 15:39:24,602 - INFO  [New I/O server worker #1-5:SubscriptionChannelManager@87] - Subscription channel /127.0.0.1:51655 for Topic: messageQueue-test, SubscriberId: @q_subid is disconnected.
2013-03-21 15:39:24,603 - INFO  [DeliveryManagerThread:FIFODeliveryManager$RemoveChannelForQueueRequest@1304] - Subscriber Topic: messageQueue-test, SubscriberId: @q_subid will be removed.
2013-03-21 15:39:24,603 - INFO  [DeliveryManagerThread:FIFODeliveryManager$RemoveChannelForQueueRequest@1306] - Last consumed seq: 498
2013-03-21 15:39:39,404 - INFO  [main:HedwigHubTestBase@168] - tearDown starting
2013-03-21 15:39:39,449 - INFO  [New I/O client worker #2-2:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15001
2013-03-21 15:39:39,450 - INFO  [main:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15002
2013-03-21 15:39:39,451 - INFO  [main:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15003
2013-03-21 15:39:39,453 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be34c8c0005
2013-03-21 15:39:39,477 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51617 which had sessionid 0x13d8be34c8c0005
2013-03-21 15:39:39,477 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be34c8c0005 closed
2013-03-21 15:39:39,477 - INFO  [Thread-7-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:39:39,484 - INFO  [New I/O client worker #3-1:HChannelHandler@247] - Channel [id: 0x0048447c, /127.0.0.1:51622 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 15:39:39,485 - INFO  [New I/O client worker #3-1:AbstractHChannelManager@344] - NonSubscription Channel [id: 0x0048447c, /127.0.0.1:51622 :> localhost/127.0.0.1:60000] to localhost/127.0.0.1:60000 disconnected.
2013-03-21 15:39:39,487 - INFO  [New I/O client worker #4-1:HChannelHandler@247] - Channel [id: 0x006647cb, /127.0.0.1:51640 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 15:39:39,487 - INFO  [New I/O client worker #4-1:AbstractHChannelManager@344] - NonSubscription Channel [id: 0x006647cb, /127.0.0.1:51640 :> localhost/127.0.0.1:60000] to localhost/127.0.0.1:60000 disconnected.
2013-03-21 15:39:39,493 - INFO  [NIOServerFactory-15001:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:39:39,494 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be34c8c0001
2013-03-21 15:39:39,508 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be34c8c0001 closed
2013-03-21 15:39:39,508 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:39:39,508 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51599 which had sessionid 0x13d8be34c8c0001
2013-03-21 15:39:39,509 - INFO  [Thread-4:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:39:39,510 - WARN  [BookieJournal-15001:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:39:39,529 - WARN  [NIOServerFactory-15002:NIOServerFactory@128] - Exception in server socket loop: /0:0:0:0:0:0:0:0
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.bookkeeper.proto.NIOServerFactory.run(NIOServerFactory.java:115)
2013-03-21 15:39:39,534 - INFO  [NIOServerFactory-15002:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:39:39,537 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be34c8c0002
2013-03-21 15:39:39,569 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51604 which had sessionid 0x13d8be34c8c0002
2013-03-21 15:39:39,570 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be34c8c0002 closed
2013-03-21 15:39:39,570 - INFO  [Thread-5:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:39:39,571 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:39:39,571 - WARN  [BookieJournal-15002:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:39:39,596 - INFO  [NIOServerFactory-15003:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:39:39,597 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be34c8c0003
2013-03-21 15:39:39,626 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be34c8c0003 closed
2013-03-21 15:39:39,627 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:39:39,627 - INFO  [Thread-6:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:39:39,627 - WARN  [BookieJournal-15003:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:39:39,627 - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@349] - caught end of stream exception
EndOfStreamException: Unable to read additional data from client sessionid 0x13d8be34c8c0003, likely client has closed socket
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:220)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:224)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:39:39,628 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51609 which had sessionid 0x13d8be34c8c0003
2013-03-21 15:39:39,654 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be34c8c0004
2013-03-21 15:39:39,685 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51614 which had sessionid 0x13d8be34c8c0004
2013-03-21 15:39:39,685 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:39:39,685 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be34c8c0004 closed
2013-03-21 15:39:39,685 - INFO  [main:ClientBase@425] - tearDown starting
2013-03-21 15:39:39,686 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be34c8c0000
2013-03-21 15:39:39,697 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be34c8c0000 closed
2013-03-21 15:39:39,697 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51596 which had sessionid 0x13d8be34c8c0000
2013-03-21 15:39:39,698 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:39:39,698 - INFO  [main:ClientBase@395] - STOPPING server
2013-03-21 15:39:39,699 - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@236] - Ignoring exception
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:204)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:39:39,699 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@240] - NIOServerCnxn factory exited run method
2013-03-21 15:39:39,699 - INFO  [main:ZooKeeperServer@428] - shutting down
2013-03-21 15:39:39,699 - INFO  [main:SessionTrackerImpl@220] - Shutting down
2013-03-21 15:39:39,700 - INFO  [main:PrepRequestProcessor@733] - Shutting down
2013-03-21 15:39:39,700 - INFO  [main:SyncRequestProcessor@173] - Shutting down
2013-03-21 15:39:39,700 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@135] - PrepRequestProcessor exited loop!
2013-03-21 15:39:39,700 - INFO  [SyncThread:0:SyncRequestProcessor@155] - SyncRequestProcessor exited!
2013-03-21 15:39:39,700 - INFO  [main:FinalRequestProcessor@414] - shutdown of request processor complete
2013-03-21 15:39:39,701 - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 15000
2013-03-21 15:39:40,696 - INFO  [main:JMXEnv@133] - ensureOnly:[]
2013-03-21 15:39:40,703 - INFO  [main:HedwigHubTestBase@171] - FINISHED null
2013-03-21 15:40:46,553 - INFO  [main:HedwigHubTestBase@158] - STARTING null
2013-03-21 15:40:46,568 - INFO  [main:PortAssignment@32] - assigning port 11221
2013-03-21 15:40:46,696 - INFO  [main:ClientBase@388] - STARTING server
2013-03-21 15:40:46,703 - INFO  [main:Environment@98] - Server environment:zookeeper.version=3.4.3-1240972, built on 02/06/2012 10:48 GMT
2013-03-21 15:40:46,703 - INFO  [main:Environment@98] - Server environment:host.name=ly-PC
2013-03-21 15:40:46,704 - INFO  [main:Environment@98] - Server environment:java.version=1.7.0_01
2013-03-21 15:40:46,704 - INFO  [main:Environment@98] - Server environment:java.vendor=Oracle Corporation
2013-03-21 15:40:46,704 - INFO  [main:Environment@98] - Server environment:java.home=D:\Program Files (x86)\Java\jdk1.7.0_01\jre
2013-03-21 15:40:46,704 - INFO  [main:Environment@98] - Server environment:java.class.path=C:\Users\ly\Git\msgbus\hedwig-server\target\test-classes;C:\Users\ly\Git\msgbus\hedwig-server\target\classes;F:\cloud compute\maven\repository\junit\junit\4.8.1\junit-4.8.1.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-api\1.6.4\slf4j-api-1.6.4.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-log4j12\1.6.4\slf4j-log4j12-1.6.4.jar;C:\Users\ly\Git\msgbus\hedwig-client\target\classes;C:\Users\ly\Git\msgbus\hedwig-protocol\target\classes;F:\cloud compute\maven\repository\org\jboss\netty\netty\3.2.4.Final\netty-3.2.4.Final.jar;F:\cloud compute\maven\repository\commons-configuration\commons-configuration\1.6\commons-configuration-1.6.jar;F:\cloud compute\maven\repository\commons-collections\commons-collections\3.2.1\commons-collections-3.2.1.jar;F:\cloud compute\maven\repository\commons-lang\commons-lang\2.4\commons-lang-2.4.jar;F:\cloud compute\maven\repository\commons-digester\commons-digester\1.8\commons-digester-1.8.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils-core\1.8.0\commons-beanutils-core-1.8.0.jar;F:\cloud compute\maven\repository\org\apache\derby\derby\10.8.2.2\derby-10.8.2.2.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3-tests.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\classes;F:\cloud compute\maven\repository\com\google\protobuf\protobuf-java\2.4.1\protobuf-java-2.4.1.jar;F:\cloud compute\maven\repository\com\google\guava\guava\13.0.1\guava-13.0.1.jar;F:\cloud compute\maven\repository\commons-cli\commons-cli\1.2\commons-cli-1.2.jar;F:\cloud compute\maven\repository\commons-codec\commons-codec\1.6\commons-codec-1.6.jar;F:\cloud compute\maven\repository\commons-io\commons-io\2.1\commons-io-2.1.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\test-classes;F:\cloud compute\maven\repository\log4j\log4j\1.2.15\log4j-1.2.15.jar;F:\cloud compute\maven\repository\jline\jline\0.9.94\jline-0.9.94.jar;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.1.0\target\classes;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.0.0\target\classes;C:\Users\ly\Git\msgbus\msgbus-mq\target\classes;F:\cloud compute\maven\repository\com\netflix\curator\curator-client\1.2.3\curator-client-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-framework\1.2.3\curator-framework-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-recipes\1.2.3\curator-recipes-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-test\1.2.3\curator-test-1.2.3.jar;F:\cloud compute\maven\repository\org\javassist\javassist\3.15.0-GA\javassist-3.15.0-GA.jar;F:\cloud compute\maven\repository\org\apache\commons\commons-math\2.2\commons-math-2.2.jar;F:\cloud compute\maven\repository\commons-logging\commons-logging\1.1.1\commons-logging-1.1.1.jar;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/207/1/.cp/;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/206/1/.cp/
2013-03-21 15:40:46,705 - INFO  [main:Environment@98] - Server environment:java.library.path=D:\Program Files (x86)\Java\jdk1.7.0_01\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;D:/Program Files (x86)/Java/jre7/bin/client;D:/Program Files (x86)/Java/jre7/bin;D:/Program Files (x86)/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\Program Files (x86)\Git\cmd;D:\Program Files\TortoiseGit\bin;D:\Program Files (x86)\Rational\common;D:\Program Files\TortoiseSVN\bin;D:\Program Files (x86)\Java\jdk1.7.0_01\bin;F:\cloud compute\maven\apache-maven-3.0.4\bin;D:\Program Files (x86)\Git\bin;F:\cloud compute\eclipse;;.
2013-03-21 15:40:46,705 - INFO  [main:Environment@98] - Server environment:java.io.tmpdir=C:\Users\ly\AppData\Local\Temp\
2013-03-21 15:40:46,706 - INFO  [main:Environment@98] - Server environment:java.compiler=<NA>
2013-03-21 15:40:46,706 - INFO  [main:Environment@98] - Server environment:os.name=Windows 7
2013-03-21 15:40:46,706 - INFO  [main:Environment@98] - Server environment:os.arch=x86
2013-03-21 15:40:46,706 - INFO  [main:Environment@98] - Server environment:os.version=6.1
2013-03-21 15:40:46,707 - INFO  [main:Environment@98] - Server environment:user.name=ly
2013-03-21 15:40:46,707 - INFO  [main:Environment@98] - Server environment:user.home=C:\Users\ly
2013-03-21 15:40:46,707 - INFO  [main:Environment@98] - Server environment:user.dir=C:\Users\ly\Git\msgbus\hedwig-server
2013-03-21 15:40:46,720 - INFO  [main:ZooKeeperServer@171] - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir F:\test1\test114086577694766374.junit.dir\version-2 snapdir F:\test1\test114086577694766374.junit.dir\version-2
2013-03-21 15:40:46,733 - INFO  [main:NIOServerCnxnFactory@110] - binding to port 0.0.0.0/0.0.0.0:15000
2013-03-21 15:40:46,739 - INFO  [main:FileTxnSnapLog@238] - Snapshotting: 0x0 to F:\test1\test114086577694766374.junit.dir\version-2\snapshot.0
2013-03-21 15:40:46,761 - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 15000
2013-03-21 15:40:46,762 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51680
2013-03-21 15:40:46,765 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@820] - Processing stat command from /127.0.0.1:51680
2013-03-21 15:40:46,767 - INFO  [Thread-2:NIOServerCnxn$StatCommand@655] - Stat command output
2013-03-21 15:40:46,768 - INFO  [Thread-2:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51680 (no session established for client)
2013-03-21 15:40:46,768 - INFO  [main:JMXEnv@133] - ensureOnly:[InMemoryDataTree, StandaloneServer_port]
2013-03-21 15:40:46,772 - INFO  [main:JMXEnv@105] - expect:InMemoryDataTree
2013-03-21 15:40:46,772 - INFO  [main:JMXEnv@108] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=StandaloneServer_port-1,name1=InMemoryDataTree
2013-03-21 15:40:46,772 - INFO  [main:JMXEnv@105] - expect:StandaloneServer_port
2013-03-21 15:40:46,773 - INFO  [main:JMXEnv@108] - found:StandaloneServer_port org.apache.ZooKeeperService:name0=StandaloneServer_port-1
2013-03-21 15:40:46,773 - INFO  [main:ClientBase@384] - Client test setup finished
2013-03-21 15:40:46,777 - INFO  [main:Environment@98] - Client environment:zookeeper.version=3.4.3-1240972, built on 02/06/2012 10:48 GMT
2013-03-21 15:40:46,778 - INFO  [main:Environment@98] - Client environment:host.name=ly-PC
2013-03-21 15:40:46,778 - INFO  [main:Environment@98] - Client environment:java.version=1.7.0_01
2013-03-21 15:40:46,778 - INFO  [main:Environment@98] - Client environment:java.vendor=Oracle Corporation
2013-03-21 15:40:46,778 - INFO  [main:Environment@98] - Client environment:java.home=D:\Program Files (x86)\Java\jdk1.7.0_01\jre
2013-03-21 15:40:46,779 - INFO  [main:Environment@98] - Client environment:java.class.path=C:\Users\ly\Git\msgbus\hedwig-server\target\test-classes;C:\Users\ly\Git\msgbus\hedwig-server\target\classes;F:\cloud compute\maven\repository\junit\junit\4.8.1\junit-4.8.1.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-api\1.6.4\slf4j-api-1.6.4.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-log4j12\1.6.4\slf4j-log4j12-1.6.4.jar;C:\Users\ly\Git\msgbus\hedwig-client\target\classes;C:\Users\ly\Git\msgbus\hedwig-protocol\target\classes;F:\cloud compute\maven\repository\org\jboss\netty\netty\3.2.4.Final\netty-3.2.4.Final.jar;F:\cloud compute\maven\repository\commons-configuration\commons-configuration\1.6\commons-configuration-1.6.jar;F:\cloud compute\maven\repository\commons-collections\commons-collections\3.2.1\commons-collections-3.2.1.jar;F:\cloud compute\maven\repository\commons-lang\commons-lang\2.4\commons-lang-2.4.jar;F:\cloud compute\maven\repository\commons-digester\commons-digester\1.8\commons-digester-1.8.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils-core\1.8.0\commons-beanutils-core-1.8.0.jar;F:\cloud compute\maven\repository\org\apache\derby\derby\10.8.2.2\derby-10.8.2.2.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3-tests.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\classes;F:\cloud compute\maven\repository\com\google\protobuf\protobuf-java\2.4.1\protobuf-java-2.4.1.jar;F:\cloud compute\maven\repository\com\google\guava\guava\13.0.1\guava-13.0.1.jar;F:\cloud compute\maven\repository\commons-cli\commons-cli\1.2\commons-cli-1.2.jar;F:\cloud compute\maven\repository\commons-codec\commons-codec\1.6\commons-codec-1.6.jar;F:\cloud compute\maven\repository\commons-io\commons-io\2.1\commons-io-2.1.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\test-classes;F:\cloud compute\maven\repository\log4j\log4j\1.2.15\log4j-1.2.15.jar;F:\cloud compute\maven\repository\jline\jline\0.9.94\jline-0.9.94.jar;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.1.0\target\classes;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.0.0\target\classes;C:\Users\ly\Git\msgbus\msgbus-mq\target\classes;F:\cloud compute\maven\repository\com\netflix\curator\curator-client\1.2.3\curator-client-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-framework\1.2.3\curator-framework-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-recipes\1.2.3\curator-recipes-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-test\1.2.3\curator-test-1.2.3.jar;F:\cloud compute\maven\repository\org\javassist\javassist\3.15.0-GA\javassist-3.15.0-GA.jar;F:\cloud compute\maven\repository\org\apache\commons\commons-math\2.2\commons-math-2.2.jar;F:\cloud compute\maven\repository\commons-logging\commons-logging\1.1.1\commons-logging-1.1.1.jar;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/207/1/.cp/;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/206/1/.cp/
2013-03-21 15:40:46,779 - INFO  [main:Environment@98] - Client environment:java.library.path=D:\Program Files (x86)\Java\jdk1.7.0_01\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;D:/Program Files (x86)/Java/jre7/bin/client;D:/Program Files (x86)/Java/jre7/bin;D:/Program Files (x86)/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\Program Files (x86)\Git\cmd;D:\Program Files\TortoiseGit\bin;D:\Program Files (x86)\Rational\common;D:\Program Files\TortoiseSVN\bin;D:\Program Files (x86)\Java\jdk1.7.0_01\bin;F:\cloud compute\maven\apache-maven-3.0.4\bin;D:\Program Files (x86)\Git\bin;F:\cloud compute\eclipse;;.
2013-03-21 15:40:46,779 - INFO  [main:Environment@98] - Client environment:java.io.tmpdir=C:\Users\ly\AppData\Local\Temp\
2013-03-21 15:40:46,779 - INFO  [main:Environment@98] - Client environment:java.compiler=<NA>
2013-03-21 15:40:46,779 - INFO  [main:Environment@98] - Client environment:os.name=Windows 7
2013-03-21 15:40:46,780 - INFO  [main:Environment@98] - Client environment:os.arch=x86
2013-03-21 15:40:46,780 - INFO  [main:Environment@98] - Client environment:os.version=6.1
2013-03-21 15:40:46,780 - INFO  [main:Environment@98] - Client environment:user.name=ly
2013-03-21 15:40:46,780 - INFO  [main:Environment@98] - Client environment:user.home=C:\Users\ly
2013-03-21 15:40:46,781 - INFO  [main:Environment@98] - Client environment:user.dir=C:\Users\ly\Git\msgbus\hedwig-server
2013-03-21 15:40:46,782 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@843e34
2013-03-21 15:40:46,794 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:40:46,797 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:40:46,798 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:40:46,805 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51683
2013-03-21 15:40:46,806 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51683
2013-03-21 15:40:46,808 - INFO  [SyncThread:0:FileTxnLog@199] - Creating new log file: log.1
2013-03-21 15:40:46,846 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be497180000 with negotiated timeout 30000 for client /127.0.0.1:51683
2013-03-21 15:40:46,846 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be497180000, negotiated timeout = 30000
2013-03-21 15:40:46,848 - INFO  [main:JMXEnv@105] - expect:0x13d8be497180000
2013-03-21 15:40:46,848 - INFO  [main:JMXEnv@108] - found:0x13d8be497180000 org.apache.ZooKeeperService:name0=StandaloneServer_port-1,name1=Connections,name2=127.0.0.1,name3=0x13d8be497180000
2013-03-21 15:40:46,961 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@1e7c41f
2013-03-21 15:40:46,966 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:40:46,966 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:40:46,967 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:40:46,967 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51686
2013-03-21 15:40:46,967 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51686
2013-03-21 15:40:46,979 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be497180001 with negotiated timeout 10000 for client /127.0.0.1:51686
2013-03-21 15:40:46,979 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be497180001, negotiated timeout = 10000
2013-03-21 15:40:46,982 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:40:47,185 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:40:47,186 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:40:47,188 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:40:47,188 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:40:47,191 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150013256324978421392903test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:40:47,198 - INFO  [BookieJournal-15001:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150013256324978421392903test\current\64979b.txn
2013-03-21 15:40:47,223 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@26a0ba
2013-03-21 15:40:47,224 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:40:47,225 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:40:47,225 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:40:47,225 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51691
2013-03-21 15:40:47,226 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51691
2013-03-21 15:40:47,317 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be497180002 with negotiated timeout 10000 for client /127.0.0.1:51691
2013-03-21 15:40:47,317 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be497180002, negotiated timeout = 10000
2013-03-21 15:40:47,318 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:40:47,374 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:40:47,374 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:40:47,375 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:40:47,375 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:40:47,375 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie15002165276223559051628test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:40:47,380 - INFO  [BookieJournal-15002:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie15002165276223559051628test\current\649853.txn
2013-03-21 15:40:47,404 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@1ddc5f7
2013-03-21 15:40:47,406 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:40:47,406 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:40:47,407 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:40:47,407 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51696
2013-03-21 15:40:47,407 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51696
2013-03-21 15:40:47,457 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be497180003 with negotiated timeout 10000 for client /127.0.0.1:51696
2013-03-21 15:40:47,457 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be497180003, negotiated timeout = 10000
2013-03-21 15:40:47,458 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:40:47,473 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:40:47,473 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:40:47,474 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:40:47,474 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:40:47,474 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150031659794850199314303test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:40:47,480 - INFO  [BookieJournal-15003:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150031659794850199314303test\current\6498b7.txn
2013-03-21 15:40:47,507 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@1ecacf5
2013-03-21 15:40:47,509 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:40:47,510 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:40:47,511 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51701
2013-03-21 15:40:47,511 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:40:47,511 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51701
2013-03-21 15:40:47,565 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be497180004 with negotiated timeout 10000 for client /127.0.0.1:51701
2013-03-21 15:40:47,565 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be497180004, negotiated timeout = 10000
2013-03-21 15:40:47,598 - INFO  [Thread-7:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=2000 watcher=org.apache.hedwig.server.netty.PubSubServer$1@10c892c
2013-03-21 15:40:47,600 - INFO  [Thread-7-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:40:47,600 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:40:47,601 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:40:47,601 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51704
2013-03-21 15:40:47,603 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51704
2013-03-21 15:40:47,623 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be497180005 with negotiated timeout 6000 for client /127.0.0.1:51704
2013-03-21 15:40:47,623 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be497180005, negotiated timeout = 6000
2013-03-21 15:40:47,689 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be497180005 type:create cxid:0x2 zxid:0x11 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/managers/METADATA Error:KeeperErrorCode = NoNode for /hedwig/standalone/managers/METADATA
2013-03-21 15:40:47,705 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be497180005 type:create cxid:0x3 zxid:0x12 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/managers Error:KeeperErrorCode = NoNode for /hedwig/standalone/managers
2013-03-21 15:40:47,723 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be497180005 type:create cxid:0x4 zxid:0x13 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone Error:KeeperErrorCode = NoNode for /hedwig/standalone
2013-03-21 15:40:47,737 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be497180005 type:create cxid:0x5 zxid:0x14 txntype:-1 reqpath:n/a Error Path:/hedwig Error:KeeperErrorCode = NoNode for /hedwig
2013-03-21 15:40:47,770 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig..................................... is created
2013-03-21 15:40:47,790 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone..................................... is created
2013-03-21 15:40:47,803 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers..................................... is created
2013-03-21 15:40:47,823 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers/METADATA..................................... is created
2013-03-21 15:40:47,837 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers/METADATA/LAYOUT..................................... is created
2013-03-21 15:40:47,849 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be497180005 type:create cxid:0xb zxid:0x1a txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/hosts Error:KeeperErrorCode = NoNode for /hedwig/standalone/hosts
2013-03-21 15:40:47,878 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/hosts..................................... is created
2013-03-21 15:40:47,898 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/hosts/192.168.0.155:60000:60001..................................... is created
2013-03-21 15:40:47,901 - INFO  [Thread-7-EventThread:ZkTopicManager$2@104] - Successfully registered hub hostname: "192.168.0.155:60000:60001"
czxid: 28
 with zookeeper
2013-03-21 15:40:47,976 - INFO  [Thread-7:PubSubServer@269] - Going into receive loop
2013-03-21 15:40:48,089 - INFO  [Thread-7:PubSubServer@269] - Going into receive loop
2013-03-21 15:40:48,092 - INFO  [main:HedwigHubTestBase@162] - HedwigHub test setup finished
2013-03-21 15:40:48,159 - INFO  [Thread-7-EventThread:ZkTopicManager$ZkGetOwnerOp$1@166] - 192.168.0.155:60000:60001 : Least loaded owner hostname: "192.168.0.155:60000:60001"
czxid: 28
 is chosen for topic messageQueue-test
2013-03-21 15:40:48,161 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be497180005 type:create cxid:0x14 zxid:0x1d txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics/messageQueue-test Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics/messageQueue-test
2013-03-21 15:40:48,233 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be497180005 type:create cxid:0x15 zxid:0x1e txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics
2013-03-21 15:40:48,264 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics..................................... is created
2013-03-21 15:40:48,278 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test..................................... is created
2013-03-21 15:40:48,299 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/hub..................................... is created
2013-03-21 15:40:48,308 - INFO  [Thread-7-EventThread:BookkeeperPersistenceManager$AcquireOp@870] - Process 0 ledgers for topic messageQueue-test starting from seq id 1.
2013-03-21 15:40:48,314 - INFO  [Thread-7-EventThread:AbstractSubscriptionManager$AcquireOp$1$1@192] - Subscription manager successfully acquired topic: messageQueue-test
2013-03-21 15:40:48,396 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/ledgers..................................... is created
2013-03-21 15:40:48,400 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be497180005 type:create cxid:0x1e zxid:0x25 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics/messageQueue-test/subscribers Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics/messageQueue-test/subscribers
2013-03-21 15:40:48,429 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/subscribers..................................... is created
2013-03-21 15:40:48,445 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/subscribers/@q_subid..................................... is created
2013-03-21 15:40:48,447 - INFO  [Thread-7-EventThread:CallbackUtils$3@148] - [standalone] all cross-region subscriptions succeeded
2013-03-21 15:40:48,459 - INFO  [pool-13-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15001
2013-03-21 15:40:48,476 - INFO  [pool-13-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15003
2013-03-21 15:40:48,477 - INFO  [New I/O client worker #2-1:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15001
2013-03-21 15:40:48,483 - INFO  [New I/O client worker #2-2:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15003
2013-03-21 15:40:48,601 - INFO  [pool-15-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15002
2013-03-21 15:40:48,610 - INFO  [New I/O client worker #2-3:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15002
2013-03-21 15:40:49,181 - INFO  [Thread-7-EventThread:SubscribeHandler$1@200] - Subscribe request (2) for (topic:messageQueue-test, subscriber:@q_subid) from channel /127.0.0.1:51742 succeed - its subscription data is State : { consumeSeqId: local:0 };Preferences : { System Preferences : [] };
2013-03-21 15:40:49,183 - INFO  [pool-8-thread-1:SubscribeHandler$1@200] - Subscribe request (2) for (topic:messageQueue-test, subscriber:@q_subid) from channel /127.0.0.1:51741 succeed - its subscription data is State : { consumeSeqId: local:0 };Preferences : { System Preferences : [] };
2013-03-21 15:40:49,233 - INFO  [Thread-12:HedwigClientImpl@109] - Stopping the client!
2013-03-21 15:40:49,233 - INFO  [Thread-12:AbstractHChannelManager@572] - Shutting down the channels manager.
2013-03-21 15:40:49,234 - INFO  [New I/O server worker #1-5:SubscriptionChannelManager@87] - Subscription channel /127.0.0.1:51741 for Topic: messageQueue-test, SubscriberId: @q_subid is disconnected.
2013-03-21 15:40:49,237 - ERROR [New I/O client worker #5-2:HChannelHandler@293] - Exception caught on client channel
java.nio.channels.ClosedChannelException
	at sun.nio.ch.SocketChannelImpl.ensureWriteOpen(SocketChannelImpl.java:249)
	at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:440)
	at org.jboss.netty.channel.socket.nio.SocketSendBufferPool$PooledSendBuffer.transferTo(SocketSendBufferPool.java:239)
	at org.jboss.netty.channel.socket.nio.NioWorker.write0(NioWorker.java:469)
	at org.jboss.netty.channel.socket.nio.NioWorker.writeFromUserCode(NioWorker.java:387)
	at org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.eventSunk(NioClientSocketPipelineSink.java:117)
	at org.jboss.netty.channel.Channels.write(Channels.java:632)
	at org.jboss.netty.handler.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:70)
	at org.jboss.netty.channel.Channels.write(Channels.java:632)
	at org.jboss.netty.handler.codec.oneone.OneToOneEncoder.handleDownstream(OneToOneEncoder.java:70)
	at org.jboss.netty.channel.Channels.write(Channels.java:611)
	at org.jboss.netty.channel.Channels.write(Channels.java:578)
	at org.jboss.netty.channel.AbstractChannel.write(AbstractChannel.java:259)
	at org.apache.hedwig.client.netty.impl.simple.SimpleSubscribeResponseHandler.consume(SimpleSubscribeResponseHandler.java:503)
	at org.apache.hedwig.client.netty.HedwigSubscriber.consume(HedwigSubscriber.java:327)
	at com.yonyou.msgbus.client.MessageQueueClient.consumeMessage(MessageQueueClient.java:118)
	at org.apache.hedwig.server.test.Tools$1.deliver(Tools.java:67)
	at com.yonyou.msgbus.client.MessageQueueClient$3.deliver(MessageQueueClient.java:140)
	at org.apache.hedwig.client.netty.impl.simple.SimpleSubscribeResponseHandler.asyncMessageDeliver(SimpleSubscribeResponseHandler.java:304)
	at org.apache.hedwig.client.netty.impl.simple.SimpleSubscribeResponseHandler.handleSubscribeMessage(SimpleSubscribeResponseHandler.java:243)
	at org.apache.hedwig.client.netty.impl.HChannelHandler.messageReceived(HChannelHandler.java:139)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:302)
	at org.jboss.netty.handler.codec.oneone.OneToOneDecoder.handleUpstream(OneToOneDecoder.java:76)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:302)
	at org.jboss.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:317)
	at org.jboss.netty.handler.codec.frame.FrameDecoder.callDecode(FrameDecoder.java:299)
	at org.jboss.netty.handler.codec.frame.FrameDecoder.messageReceived(FrameDecoder.java:216)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:274)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:261)
	at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:349)
	at org.jboss.netty.channel.socket.nio.NioWorker.processSelectedKeys(NioWorker.java:280)
	at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:200)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:40:49,238 - ERROR [New I/O client worker #5-2:SimpleSubscribeResponseHandler$3@508] - Error writing a Consume request to host: localhost/127.0.0.1:60000 with messageSeqId: localComponent: 208
 for Topic: messageQueue-test, SubscriberId: @q_subid
2013-03-21 15:40:49,238 - WARN  [New I/O client worker #5-2:MessageConsumeCallback@88] - No subscription Topic: messageQueue-test, SubscriberId: @q_subid found to consume message local:208.
2013-03-21 15:40:49,239 - INFO  [Thread-12:HedwigClientImpl@119] - Completed stopping the client!
2013-03-21 15:40:59,184 - ERROR [Thread-11:NIOServerCnxnFactory$1@49] - Thread Thread[Thread-11,5,main] died
java.lang.AssertionError: Timed out waiting on callback for messages.
	at org.junit.Assert.fail(Assert.java:91)
	at org.junit.Assert.assertTrue(Assert.java:43)
	at org.apache.hedwig.server.test.Tools.recv(Tools.java:79)
	at org.apache.hedwig.server.test.TestConsumerCluster$1QueueConsumer1.run(TestConsumerCluster.java:180)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:41:04,062 - INFO  [main:HedwigHubTestBase@168] - tearDown starting
2013-03-21 15:41:04,112 - INFO  [main:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15001
2013-03-21 15:41:04,114 - INFO  [New I/O client worker #2-3:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15002
2013-03-21 15:41:04,116 - INFO  [main:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15003
2013-03-21 15:41:04,118 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be497180005
2013-03-21 15:41:04,142 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be497180005 closed
2013-03-21 15:41:04,142 - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@349] - caught end of stream exception
EndOfStreamException: Unable to read additional data from client sessionid 0x13d8be497180005, likely client has closed socket
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:220)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:224)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:41:04,143 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51704 which had sessionid 0x13d8be497180005
2013-03-21 15:41:04,142 - INFO  [Thread-7-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:41:04,146 - INFO  [New I/O server worker #1-4:SubscriptionChannelManager@87] - Subscription channel /127.0.0.1:51742 for Topic: messageQueue-test, SubscriberId: @q_subid is disconnected.
2013-03-21 15:41:04,146 - INFO  [New I/O client worker #4-2:HChannelHandler@247] - Channel [id: 0x01a16e2f, /127.0.0.1:51742 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 15:41:04,146 - INFO  [New I/O client worker #4-2:SimpleHChannelManager@142] - Subscription Channel [id: 0x01a16e2f, /127.0.0.1:51742 :> localhost/127.0.0.1:60000] disconnected from localhost/127.0.0.1:60000.
2013-03-21 15:41:04,148 - INFO  [New I/O client worker #4-2:SimpleSubscribeResponseHandler$4@577] - Subscription channel [id: 0x01a16e2f, /127.0.0.1:51742 :> localhost/127.0.0.1:60000] for (Topic: messageQueue-test, SubscriberId: @q_subid) is disconnected.
2013-03-21 15:41:04,146 - INFO  [New I/O client worker #4-1:HChannelHandler@247] - Channel [id: 0x006702a0, /127.0.0.1:51727 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 15:41:04,148 - INFO  [New I/O client worker #4-1:AbstractHChannelManager@344] - NonSubscription Channel [id: 0x006702a0, /127.0.0.1:51727 :> localhost/127.0.0.1:60000] to localhost/127.0.0.1:60000 disconnected.
2013-03-21 15:41:04,146 - INFO  [New I/O client worker #3-1:HChannelHandler@247] - Channel [id: 0x004632db, /127.0.0.1:51709 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 15:41:04,149 - INFO  [New I/O client worker #3-1:AbstractHChannelManager@344] - NonSubscription Channel [id: 0x004632db, /127.0.0.1:51709 :> localhost/127.0.0.1:60000] to localhost/127.0.0.1:60000 disconnected.
2013-03-21 15:41:04,151 - WARN  [NIOServerFactory-15001:NIOServerFactory@128] - Exception in server socket loop: /0:0:0:0:0:0:0:0
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.bookkeeper.proto.NIOServerFactory.run(NIOServerFactory.java:115)
2013-03-21 15:41:04,151 - INFO  [NIOServerFactory-15001:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:41:04,153 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be497180001
2013-03-21 15:41:04,172 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be497180001 closed
2013-03-21 15:41:04,172 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:41:04,172 - INFO  [Thread-4:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:41:04,173 - WARN  [BookieJournal-15001:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:41:04,173 - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@349] - caught end of stream exception
EndOfStreamException: Unable to read additional data from client sessionid 0x13d8be497180001, likely client has closed socket
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:220)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:224)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:41:04,174 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51686 which had sessionid 0x13d8be497180001
2013-03-21 15:41:04,197 - WARN  [NIOServerFactory-15002:NIOServerFactory@128] - Exception in server socket loop: /0:0:0:0:0:0:0:0
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.bookkeeper.proto.NIOServerFactory.run(NIOServerFactory.java:115)
2013-03-21 15:41:04,197 - INFO  [NIOServerFactory-15002:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:41:04,198 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be497180002
2013-03-21 15:41:04,223 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be497180002 closed
2013-03-21 15:41:04,223 - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@349] - caught end of stream exception
EndOfStreamException: Unable to read additional data from client sessionid 0x13d8be497180002, likely client has closed socket
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:220)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:224)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:41:04,223 - INFO  [Thread-5:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:41:04,223 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:41:04,224 - WARN  [BookieJournal-15002:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:41:04,224 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51691 which had sessionid 0x13d8be497180002
2013-03-21 15:41:04,253 - WARN  [NIOServerFactory-15003:NIOServerFactory@128] - Exception in server socket loop: /0:0:0:0:0:0:0:0
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.bookkeeper.proto.NIOServerFactory.run(NIOServerFactory.java:115)
2013-03-21 15:41:04,254 - INFO  [NIOServerFactory-15003:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:41:04,254 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be497180003
2013-03-21 15:41:04,305 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be497180003 closed
2013-03-21 15:41:04,305 - INFO  [Thread-6:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:41:04,306 - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@349] - caught end of stream exception
EndOfStreamException: Unable to read additional data from client sessionid 0x13d8be497180003, likely client has closed socket
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:220)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:224)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:41:04,306 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51696 which had sessionid 0x13d8be497180003
2013-03-21 15:41:04,307 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:41:04,307 - WARN  [BookieJournal-15003:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:41:04,330 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be497180004
2013-03-21 15:41:04,353 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51701 which had sessionid 0x13d8be497180004
2013-03-21 15:41:04,354 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be497180004 closed
2013-03-21 15:41:04,354 - INFO  [main:ClientBase@425] - tearDown starting
2013-03-21 15:41:04,354 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:41:04,355 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be497180000
2013-03-21 15:41:04,372 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be497180000 closed
2013-03-21 15:41:04,372 - INFO  [main:ClientBase@395] - STOPPING server
2013-03-21 15:41:04,374 - INFO  [main:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51683 which had sessionid 0x13d8be497180000
2013-03-21 15:41:04,374 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:41:04,374 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@240] - NIOServerCnxn factory exited run method
2013-03-21 15:41:04,375 - INFO  [main:ZooKeeperServer@428] - shutting down
2013-03-21 15:41:04,375 - INFO  [main:SessionTrackerImpl@220] - Shutting down
2013-03-21 15:41:04,375 - INFO  [main:PrepRequestProcessor@733] - Shutting down
2013-03-21 15:41:04,375 - INFO  [main:SyncRequestProcessor@173] - Shutting down
2013-03-21 15:41:04,375 - INFO  [SyncThread:0:SyncRequestProcessor@155] - SyncRequestProcessor exited!
2013-03-21 15:41:04,375 - INFO  [main:FinalRequestProcessor@414] - shutdown of request processor complete
2013-03-21 15:41:04,376 - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 15000
2013-03-21 15:41:04,376 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@135] - PrepRequestProcessor exited loop!
2013-03-21 15:41:05,385 - INFO  [main:JMXEnv@133] - ensureOnly:[]
2013-03-21 15:41:05,391 - INFO  [main:HedwigHubTestBase@171] - FINISHED null
2013-03-21 15:45:24,448 - INFO  [main:HedwigHubTestBase@158] - STARTING null
2013-03-21 15:45:24,464 - INFO  [main:PortAssignment@32] - assigning port 11221
2013-03-21 15:45:24,589 - INFO  [main:ClientBase@388] - STARTING server
2013-03-21 15:45:24,596 - INFO  [main:Environment@98] - Server environment:zookeeper.version=3.4.3-1240972, built on 02/06/2012 10:48 GMT
2013-03-21 15:45:24,597 - INFO  [main:Environment@98] - Server environment:host.name=ly-PC
2013-03-21 15:45:24,597 - INFO  [main:Environment@98] - Server environment:java.version=1.7.0_01
2013-03-21 15:45:24,597 - INFO  [main:Environment@98] - Server environment:java.vendor=Oracle Corporation
2013-03-21 15:45:24,598 - INFO  [main:Environment@98] - Server environment:java.home=D:\Program Files (x86)\Java\jdk1.7.0_01\jre
2013-03-21 15:45:24,598 - INFO  [main:Environment@98] - Server environment:java.class.path=C:\Users\ly\Git\msgbus\hedwig-server\target\test-classes;C:\Users\ly\Git\msgbus\hedwig-server\target\classes;F:\cloud compute\maven\repository\junit\junit\4.8.1\junit-4.8.1.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-api\1.6.4\slf4j-api-1.6.4.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-log4j12\1.6.4\slf4j-log4j12-1.6.4.jar;C:\Users\ly\Git\msgbus\hedwig-client\target\classes;C:\Users\ly\Git\msgbus\hedwig-protocol\target\classes;F:\cloud compute\maven\repository\org\jboss\netty\netty\3.2.4.Final\netty-3.2.4.Final.jar;F:\cloud compute\maven\repository\commons-configuration\commons-configuration\1.6\commons-configuration-1.6.jar;F:\cloud compute\maven\repository\commons-collections\commons-collections\3.2.1\commons-collections-3.2.1.jar;F:\cloud compute\maven\repository\commons-lang\commons-lang\2.4\commons-lang-2.4.jar;F:\cloud compute\maven\repository\commons-digester\commons-digester\1.8\commons-digester-1.8.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils-core\1.8.0\commons-beanutils-core-1.8.0.jar;F:\cloud compute\maven\repository\org\apache\derby\derby\10.8.2.2\derby-10.8.2.2.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3-tests.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\classes;F:\cloud compute\maven\repository\com\google\protobuf\protobuf-java\2.4.1\protobuf-java-2.4.1.jar;F:\cloud compute\maven\repository\com\google\guava\guava\13.0.1\guava-13.0.1.jar;F:\cloud compute\maven\repository\commons-cli\commons-cli\1.2\commons-cli-1.2.jar;F:\cloud compute\maven\repository\commons-codec\commons-codec\1.6\commons-codec-1.6.jar;F:\cloud compute\maven\repository\commons-io\commons-io\2.1\commons-io-2.1.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\test-classes;F:\cloud compute\maven\repository\log4j\log4j\1.2.15\log4j-1.2.15.jar;F:\cloud compute\maven\repository\jline\jline\0.9.94\jline-0.9.94.jar;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.1.0\target\classes;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.0.0\target\classes;C:\Users\ly\Git\msgbus\msgbus-mq\target\classes;F:\cloud compute\maven\repository\com\netflix\curator\curator-client\1.2.3\curator-client-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-framework\1.2.3\curator-framework-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-recipes\1.2.3\curator-recipes-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-test\1.2.3\curator-test-1.2.3.jar;F:\cloud compute\maven\repository\org\javassist\javassist\3.15.0-GA\javassist-3.15.0-GA.jar;F:\cloud compute\maven\repository\org\apache\commons\commons-math\2.2\commons-math-2.2.jar;F:\cloud compute\maven\repository\commons-logging\commons-logging\1.1.1\commons-logging-1.1.1.jar;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/207/1/.cp/;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/206/1/.cp/
2013-03-21 15:45:24,598 - INFO  [main:Environment@98] - Server environment:java.library.path=D:\Program Files (x86)\Java\jdk1.7.0_01\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;D:/Program Files (x86)/Java/jre7/bin/client;D:/Program Files (x86)/Java/jre7/bin;D:/Program Files (x86)/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\Program Files (x86)\Git\cmd;D:\Program Files\TortoiseGit\bin;D:\Program Files (x86)\Rational\common;D:\Program Files\TortoiseSVN\bin;D:\Program Files (x86)\Java\jdk1.7.0_01\bin;F:\cloud compute\maven\apache-maven-3.0.4\bin;D:\Program Files (x86)\Git\bin;F:\cloud compute\eclipse;;.
2013-03-21 15:45:24,599 - INFO  [main:Environment@98] - Server environment:java.io.tmpdir=C:\Users\ly\AppData\Local\Temp\
2013-03-21 15:45:24,599 - INFO  [main:Environment@98] - Server environment:java.compiler=<NA>
2013-03-21 15:45:24,599 - INFO  [main:Environment@98] - Server environment:os.name=Windows 7
2013-03-21 15:45:24,600 - INFO  [main:Environment@98] - Server environment:os.arch=x86
2013-03-21 15:45:24,600 - INFO  [main:Environment@98] - Server environment:os.version=6.1
2013-03-21 15:45:24,600 - INFO  [main:Environment@98] - Server environment:user.name=ly
2013-03-21 15:45:24,600 - INFO  [main:Environment@98] - Server environment:user.home=C:\Users\ly
2013-03-21 15:45:24,601 - INFO  [main:Environment@98] - Server environment:user.dir=C:\Users\ly\Git\msgbus\hedwig-server
2013-03-21 15:45:24,614 - INFO  [main:ZooKeeperServer@171] - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir F:\test1\test4413408077978674400.junit.dir\version-2 snapdir F:\test1\test4413408077978674400.junit.dir\version-2
2013-03-21 15:45:24,627 - INFO  [main:NIOServerCnxnFactory@110] - binding to port 0.0.0.0/0.0.0.0:15000
2013-03-21 15:45:24,633 - INFO  [main:FileTxnSnapLog@238] - Snapshotting: 0x0 to F:\test1\test4413408077978674400.junit.dir\version-2\snapshot.0
2013-03-21 15:45:24,655 - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 15000
2013-03-21 15:45:24,656 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51778
2013-03-21 15:45:24,660 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@820] - Processing stat command from /127.0.0.1:51778
2013-03-21 15:45:24,662 - INFO  [Thread-2:NIOServerCnxn$StatCommand@655] - Stat command output
2013-03-21 15:45:24,662 - INFO  [Thread-2:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51778 (no session established for client)
2013-03-21 15:45:24,663 - INFO  [main:JMXEnv@133] - ensureOnly:[InMemoryDataTree, StandaloneServer_port]
2013-03-21 15:45:24,666 - INFO  [main:JMXEnv@105] - expect:InMemoryDataTree
2013-03-21 15:45:24,666 - INFO  [main:JMXEnv@108] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=StandaloneServer_port-1,name1=InMemoryDataTree
2013-03-21 15:45:24,666 - INFO  [main:JMXEnv@105] - expect:StandaloneServer_port
2013-03-21 15:45:24,667 - INFO  [main:JMXEnv@108] - found:StandaloneServer_port org.apache.ZooKeeperService:name0=StandaloneServer_port-1
2013-03-21 15:45:24,667 - INFO  [main:ClientBase@384] - Client test setup finished
2013-03-21 15:45:24,673 - INFO  [main:Environment@98] - Client environment:zookeeper.version=3.4.3-1240972, built on 02/06/2012 10:48 GMT
2013-03-21 15:45:24,674 - INFO  [main:Environment@98] - Client environment:host.name=ly-PC
2013-03-21 15:45:24,674 - INFO  [main:Environment@98] - Client environment:java.version=1.7.0_01
2013-03-21 15:45:24,674 - INFO  [main:Environment@98] - Client environment:java.vendor=Oracle Corporation
2013-03-21 15:45:24,674 - INFO  [main:Environment@98] - Client environment:java.home=D:\Program Files (x86)\Java\jdk1.7.0_01\jre
2013-03-21 15:45:24,674 - INFO  [main:Environment@98] - Client environment:java.class.path=C:\Users\ly\Git\msgbus\hedwig-server\target\test-classes;C:\Users\ly\Git\msgbus\hedwig-server\target\classes;F:\cloud compute\maven\repository\junit\junit\4.8.1\junit-4.8.1.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-api\1.6.4\slf4j-api-1.6.4.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-log4j12\1.6.4\slf4j-log4j12-1.6.4.jar;C:\Users\ly\Git\msgbus\hedwig-client\target\classes;C:\Users\ly\Git\msgbus\hedwig-protocol\target\classes;F:\cloud compute\maven\repository\org\jboss\netty\netty\3.2.4.Final\netty-3.2.4.Final.jar;F:\cloud compute\maven\repository\commons-configuration\commons-configuration\1.6\commons-configuration-1.6.jar;F:\cloud compute\maven\repository\commons-collections\commons-collections\3.2.1\commons-collections-3.2.1.jar;F:\cloud compute\maven\repository\commons-lang\commons-lang\2.4\commons-lang-2.4.jar;F:\cloud compute\maven\repository\commons-digester\commons-digester\1.8\commons-digester-1.8.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils-core\1.8.0\commons-beanutils-core-1.8.0.jar;F:\cloud compute\maven\repository\org\apache\derby\derby\10.8.2.2\derby-10.8.2.2.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3-tests.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\classes;F:\cloud compute\maven\repository\com\google\protobuf\protobuf-java\2.4.1\protobuf-java-2.4.1.jar;F:\cloud compute\maven\repository\com\google\guava\guava\13.0.1\guava-13.0.1.jar;F:\cloud compute\maven\repository\commons-cli\commons-cli\1.2\commons-cli-1.2.jar;F:\cloud compute\maven\repository\commons-codec\commons-codec\1.6\commons-codec-1.6.jar;F:\cloud compute\maven\repository\commons-io\commons-io\2.1\commons-io-2.1.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\test-classes;F:\cloud compute\maven\repository\log4j\log4j\1.2.15\log4j-1.2.15.jar;F:\cloud compute\maven\repository\jline\jline\0.9.94\jline-0.9.94.jar;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.1.0\target\classes;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.0.0\target\classes;C:\Users\ly\Git\msgbus\msgbus-mq\target\classes;F:\cloud compute\maven\repository\com\netflix\curator\curator-client\1.2.3\curator-client-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-framework\1.2.3\curator-framework-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-recipes\1.2.3\curator-recipes-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-test\1.2.3\curator-test-1.2.3.jar;F:\cloud compute\maven\repository\org\javassist\javassist\3.15.0-GA\javassist-3.15.0-GA.jar;F:\cloud compute\maven\repository\org\apache\commons\commons-math\2.2\commons-math-2.2.jar;F:\cloud compute\maven\repository\commons-logging\commons-logging\1.1.1\commons-logging-1.1.1.jar;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/207/1/.cp/;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/206/1/.cp/
2013-03-21 15:45:24,675 - INFO  [main:Environment@98] - Client environment:java.library.path=D:\Program Files (x86)\Java\jdk1.7.0_01\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;D:/Program Files (x86)/Java/jre7/bin/client;D:/Program Files (x86)/Java/jre7/bin;D:/Program Files (x86)/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\Program Files (x86)\Git\cmd;D:\Program Files\TortoiseGit\bin;D:\Program Files (x86)\Rational\common;D:\Program Files\TortoiseSVN\bin;D:\Program Files (x86)\Java\jdk1.7.0_01\bin;F:\cloud compute\maven\apache-maven-3.0.4\bin;D:\Program Files (x86)\Git\bin;F:\cloud compute\eclipse;;.
2013-03-21 15:45:24,675 - INFO  [main:Environment@98] - Client environment:java.io.tmpdir=C:\Users\ly\AppData\Local\Temp\
2013-03-21 15:45:24,675 - INFO  [main:Environment@98] - Client environment:java.compiler=<NA>
2013-03-21 15:45:24,675 - INFO  [main:Environment@98] - Client environment:os.name=Windows 7
2013-03-21 15:45:24,675 - INFO  [main:Environment@98] - Client environment:os.arch=x86
2013-03-21 15:45:24,676 - INFO  [main:Environment@98] - Client environment:os.version=6.1
2013-03-21 15:45:24,676 - INFO  [main:Environment@98] - Client environment:user.name=ly
2013-03-21 15:45:24,676 - INFO  [main:Environment@98] - Client environment:user.home=C:\Users\ly
2013-03-21 15:45:24,676 - INFO  [main:Environment@98] - Client environment:user.dir=C:\Users\ly\Git\msgbus\hedwig-server
2013-03-21 15:45:24,677 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@4a8ece
2013-03-21 15:45:24,689 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:45:24,692 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:45:24,693 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:45:24,702 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51781
2013-03-21 15:45:24,703 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51781
2013-03-21 15:45:24,724 - INFO  [SyncThread:0:FileTxnLog@199] - Creating new log file: log.1
2013-03-21 15:45:24,757 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be8d49e0000 with negotiated timeout 30000 for client /127.0.0.1:51781
2013-03-21 15:45:24,758 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be8d49e0000, negotiated timeout = 30000
2013-03-21 15:45:24,760 - INFO  [main:JMXEnv@105] - expect:0x13d8be8d49e0000
2013-03-21 15:45:24,760 - INFO  [main:JMXEnv@108] - found:0x13d8be8d49e0000 org.apache.ZooKeeperService:name0=StandaloneServer_port-1,name1=Connections,name2=127.0.0.1,name3=0x13d8be8d49e0000
2013-03-21 15:45:24,871 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@11d75c0
2013-03-21 15:45:24,873 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:45:24,874 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:45:24,874 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:45:24,874 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51784
2013-03-21 15:45:24,875 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51784
2013-03-21 15:45:24,896 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be8d49e0001 with negotiated timeout 10000 for client /127.0.0.1:51784
2013-03-21 15:45:24,896 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be8d49e0001, negotiated timeout = 10000
2013-03-21 15:45:24,899 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:45:25,073 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:45:25,073 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:45:25,075 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:45:25,076 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:45:25,078 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150012524696463067528486test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:45:25,084 - INFO  [BookieJournal-15001:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150012524696463067528486test\current\68d517.txn
2013-03-21 15:45:25,151 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@9810f1
2013-03-21 15:45:25,155 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:45:25,156 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:45:25,157 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:45:25,157 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51789
2013-03-21 15:45:25,158 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51789
2013-03-21 15:45:25,215 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be8d49e0002 with negotiated timeout 10000 for client /127.0.0.1:51789
2013-03-21 15:45:25,215 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be8d49e0002, negotiated timeout = 10000
2013-03-21 15:45:25,216 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:45:25,282 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:45:25,283 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:45:25,283 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:45:25,284 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:45:25,290 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150025018481054521284254test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:45:25,296 - INFO  [BookieJournal-15002:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150025018481054521284254test\current\68d5ec.txn
2013-03-21 15:45:25,327 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@1816088
2013-03-21 15:45:25,331 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:45:25,331 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:45:25,332 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:45:25,332 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51794
2013-03-21 15:45:25,334 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51794
2013-03-21 15:45:25,377 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be8d49e0003 with negotiated timeout 10000 for client /127.0.0.1:51794
2013-03-21 15:45:25,377 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be8d49e0003, negotiated timeout = 10000
2013-03-21 15:45:25,378 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:45:25,407 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:45:25,407 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:45:25,407 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:45:25,408 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:45:25,408 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150031726322421502345497test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:45:25,411 - INFO  [BookieJournal-15003:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150031726322421502345497test\current\68d65f.txn
2013-03-21 15:45:25,454 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@271d34
2013-03-21 15:45:25,456 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:45:25,456 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:45:25,457 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:45:25,457 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51799
2013-03-21 15:45:25,457 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51799
2013-03-21 15:45:25,485 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be8d49e0004 with negotiated timeout 10000 for client /127.0.0.1:51799
2013-03-21 15:45:25,485 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be8d49e0004, negotiated timeout = 10000
2013-03-21 15:45:25,523 - INFO  [Thread-7:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=2000 watcher=org.apache.hedwig.server.netty.PubSubServer$1@f12cb4
2013-03-21 15:45:25,525 - INFO  [Thread-7-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:45:25,526 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:45:25,526 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:45:25,526 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51802
2013-03-21 15:45:25,527 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51802
2013-03-21 15:45:25,545 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8be8d49e0005 with negotiated timeout 6000 for client /127.0.0.1:51802
2013-03-21 15:45:25,545 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8be8d49e0005, negotiated timeout = 6000
2013-03-21 15:45:25,610 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be8d49e0005 type:create cxid:0x2 zxid:0x11 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/managers/METADATA Error:KeeperErrorCode = NoNode for /hedwig/standalone/managers/METADATA
2013-03-21 15:45:25,629 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be8d49e0005 type:create cxid:0x3 zxid:0x12 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/managers Error:KeeperErrorCode = NoNode for /hedwig/standalone/managers
2013-03-21 15:45:25,645 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be8d49e0005 type:create cxid:0x4 zxid:0x13 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone Error:KeeperErrorCode = NoNode for /hedwig/standalone
2013-03-21 15:45:25,660 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be8d49e0005 type:create cxid:0x5 zxid:0x14 txntype:-1 reqpath:n/a Error Path:/hedwig Error:KeeperErrorCode = NoNode for /hedwig
2013-03-21 15:45:25,693 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig..................................... is created
2013-03-21 15:45:25,712 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone..................................... is created
2013-03-21 15:45:25,787 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers..................................... is created
2013-03-21 15:45:25,802 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers/METADATA..................................... is created
2013-03-21 15:45:25,820 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers/METADATA/LAYOUT..................................... is created
2013-03-21 15:45:25,829 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be8d49e0005 type:create cxid:0xb zxid:0x1a txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/hosts Error:KeeperErrorCode = NoNode for /hedwig/standalone/hosts
2013-03-21 15:45:25,862 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/hosts..................................... is created
2013-03-21 15:45:25,876 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/hosts/192.168.0.155:60000:60001..................................... is created
2013-03-21 15:45:25,881 - INFO  [Thread-7-EventThread:ZkTopicManager$2@104] - Successfully registered hub hostname: "192.168.0.155:60000:60001"
czxid: 28
 with zookeeper
2013-03-21 15:45:25,943 - INFO  [Thread-7:PubSubServer@269] - Going into receive loop
2013-03-21 15:45:26,057 - INFO  [Thread-7:PubSubServer@269] - Going into receive loop
2013-03-21 15:45:26,061 - INFO  [main:HedwigHubTestBase@162] - HedwigHub test setup finished
2013-03-21 15:45:26,130 - INFO  [Thread-7-EventThread:ZkTopicManager$ZkGetOwnerOp$1@166] - 192.168.0.155:60000:60001 : Least loaded owner hostname: "192.168.0.155:60000:60001"
czxid: 28
 is chosen for topic messageQueue-test
2013-03-21 15:45:26,131 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be8d49e0005 type:create cxid:0x14 zxid:0x1d txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics/messageQueue-test Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics/messageQueue-test
2013-03-21 15:45:26,162 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be8d49e0005 type:create cxid:0x15 zxid:0x1e txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics
2013-03-21 15:45:26,195 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics..................................... is created
2013-03-21 15:45:26,210 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test..................................... is created
2013-03-21 15:45:26,228 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/hub..................................... is created
2013-03-21 15:45:26,237 - INFO  [Thread-7-EventThread:BookkeeperPersistenceManager$AcquireOp@870] - Process 0 ledgers for topic messageQueue-test starting from seq id 1.
2013-03-21 15:45:26,245 - INFO  [Thread-7-EventThread:AbstractSubscriptionManager$AcquireOp$1$1@192] - Subscription manager successfully acquired topic: messageQueue-test
2013-03-21 15:45:26,311 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/ledgers..................................... is created
2013-03-21 15:45:26,315 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8be8d49e0005 type:create cxid:0x1e zxid:0x25 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics/messageQueue-test/subscribers Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics/messageQueue-test/subscribers
2013-03-21 15:45:26,346 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/subscribers..................................... is created
2013-03-21 15:45:26,361 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/subscribers/@q_subid..................................... is created
2013-03-21 15:45:26,364 - INFO  [Thread-7-EventThread:CallbackUtils$3@148] - [standalone] all cross-region subscriptions succeeded
2013-03-21 15:45:26,377 - INFO  [pool-15-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15001
2013-03-21 15:45:26,395 - INFO  [pool-15-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15002
2013-03-21 15:45:26,396 - INFO  [New I/O client worker #2-1:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15001
2013-03-21 15:45:26,398 - INFO  [New I/O client worker #2-2:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15002
2013-03-21 15:45:26,563 - INFO  [pool-16-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15003
2013-03-21 15:45:26,660 - INFO  [New I/O client worker #2-3:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15003
2013-03-21 15:45:27,006 - INFO  [Thread-7-EventThread:SubscribeHandler$1@200] - Subscribe request (2) for (topic:messageQueue-test, subscriber:@q_subid) from channel /127.0.0.1:51840 succeed - its subscription data is State : { consumeSeqId: local:0 };Preferences : { System Preferences : [] };
2013-03-21 15:45:27,013 - INFO  [pool-8-thread-1:SubscribeHandler$1@200] - Subscribe request (2) for (topic:messageQueue-test, subscriber:@q_subid) from channel /127.0.0.1:51839 succeed - its subscription data is State : { consumeSeqId: local:0 };Preferences : { System Preferences : [] };
2013-03-21 15:45:27,075 - INFO  [Thread-12:HedwigClientImpl@109] - Stopping the client!
2013-03-21 15:45:27,075 - INFO  [Thread-12:AbstractHChannelManager@572] - Shutting down the channels manager.
2013-03-21 15:45:27,076 - INFO  [New I/O server worker #1-5:SubscriptionChannelManager@87] - Subscription channel /127.0.0.1:51839 for Topic: messageQueue-test, SubscriberId: @q_subid is disconnected.
2013-03-21 15:45:27,079 - INFO  [Thread-12:HedwigClientImpl@119] - Completed stopping the client!
2013-03-21 15:45:37,015 - ERROR [Thread-11:NIOServerCnxnFactory$1@49] - Thread Thread[Thread-11,5,main] died
java.lang.AssertionError: Timed out waiting on callback for messages.
	at org.junit.Assert.fail(Assert.java:91)
	at org.junit.Assert.assertTrue(Assert.java:43)
	at org.apache.hedwig.server.test.Tools.recv(Tools.java:79)
	at org.apache.hedwig.server.test.TestConsumerCluster$1QueueConsumer1.run(TestConsumerCluster.java:180)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:45:41,947 - INFO  [main:HedwigHubTestBase@168] - tearDown starting
2013-03-21 15:45:42,009 - INFO  [main:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15001
2013-03-21 15:45:42,011 - INFO  [main:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15002
2013-03-21 15:45:42,013 - INFO  [New I/O client worker #2-3:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15003
2013-03-21 15:45:42,015 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be8d49e0005
2013-03-21 15:45:42,046 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be8d49e0005 closed
2013-03-21 15:45:42,046 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51802 which had sessionid 0x13d8be8d49e0005
2013-03-21 15:45:42,046 - INFO  [Thread-7-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:45:42,050 - INFO  [New I/O client worker #4-1:HChannelHandler@247] - Channel [id: 0x00e67e7f, /127.0.0.1:51826 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 15:45:42,050 - INFO  [New I/O client worker #4-1:AbstractHChannelManager@344] - NonSubscription Channel [id: 0x00e67e7f, /127.0.0.1:51826 :> localhost/127.0.0.1:60000] to localhost/127.0.0.1:60000 disconnected.
2013-03-21 15:45:42,051 - INFO  [New I/O client worker #3-1:HChannelHandler@247] - Channel [id: 0x00b18323, /127.0.0.1:51807 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 15:45:42,051 - INFO  [New I/O client worker #3-1:AbstractHChannelManager@344] - NonSubscription Channel [id: 0x00b18323, /127.0.0.1:51807 :> localhost/127.0.0.1:60000] to localhost/127.0.0.1:60000 disconnected.
2013-03-21 15:45:42,051 - INFO  [main:SubscriptionChannelManager@87] - Subscription channel /127.0.0.1:51840 for Topic: messageQueue-test, SubscriberId: @q_subid is disconnected.
2013-03-21 15:45:42,051 - INFO  [New I/O client worker #4-2:HChannelHandler@247] - Channel [id: 0x01e57ae0, /127.0.0.1:51840 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 15:45:42,052 - INFO  [New I/O client worker #4-2:SimpleHChannelManager@142] - Subscription Channel [id: 0x01e57ae0, /127.0.0.1:51840 :> localhost/127.0.0.1:60000] disconnected from localhost/127.0.0.1:60000.
2013-03-21 15:45:42,053 - INFO  [New I/O client worker #4-2:SimpleSubscribeResponseHandler$4@577] - Subscription channel [id: 0x01e57ae0, /127.0.0.1:51840 :> localhost/127.0.0.1:60000] for (Topic: messageQueue-test, SubscriberId: @q_subid) is disconnected.
2013-03-21 15:45:42,069 - WARN  [NIOServerFactory-15001:NIOServerFactory@128] - Exception in server socket loop: /0:0:0:0:0:0:0:0
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.bookkeeper.proto.NIOServerFactory.run(NIOServerFactory.java:115)
2013-03-21 15:45:42,069 - INFO  [NIOServerFactory-15001:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:45:42,070 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be8d49e0001
2013-03-21 15:45:42,096 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51784 which had sessionid 0x13d8be8d49e0001
2013-03-21 15:45:42,096 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be8d49e0001 closed
2013-03-21 15:45:42,105 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:45:42,108 - INFO  [Thread-4:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:45:42,109 - WARN  [BookieJournal-15001:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:45:42,131 - INFO  [NIOServerFactory-15002:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:45:42,131 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be8d49e0002
2013-03-21 15:45:42,163 - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@349] - caught end of stream exception
EndOfStreamException: Unable to read additional data from client sessionid 0x13d8be8d49e0002, likely client has closed socket
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:220)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:224)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:45:42,164 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51789 which had sessionid 0x13d8be8d49e0002
2013-03-21 15:45:42,164 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be8d49e0002 closed
2013-03-21 15:45:42,165 - INFO  [Thread-5:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:45:42,165 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:45:42,167 - WARN  [BookieJournal-15002:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:45:42,193 - WARN  [NIOServerFactory-15003:NIOServerFactory@128] - Exception in server socket loop: /0:0:0:0:0:0:0:0
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.bookkeeper.proto.NIOServerFactory.run(NIOServerFactory.java:115)
2013-03-21 15:45:42,193 - INFO  [NIOServerFactory-15003:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:45:42,194 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be8d49e0003
2013-03-21 15:45:42,220 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be8d49e0003 closed
2013-03-21 15:45:42,220 - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@349] - caught end of stream exception
EndOfStreamException: Unable to read additional data from client sessionid 0x13d8be8d49e0003, likely client has closed socket
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:220)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:224)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:45:42,220 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:45:42,221 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51794 which had sessionid 0x13d8be8d49e0003
2013-03-21 15:45:42,221 - INFO  [Thread-6:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:45:42,222 - WARN  [BookieJournal-15003:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:45:42,243 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be8d49e0004
2013-03-21 15:45:42,270 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be8d49e0004 closed
2013-03-21 15:45:42,271 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:45:42,270 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51799 which had sessionid 0x13d8be8d49e0004
2013-03-21 15:45:42,271 - INFO  [main:ClientBase@425] - tearDown starting
2013-03-21 15:45:42,272 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8be8d49e0000
2013-03-21 15:45:42,288 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51781 which had sessionid 0x13d8be8d49e0000
2013-03-21 15:45:42,289 - INFO  [main:ZooKeeper@679] - Session: 0x13d8be8d49e0000 closed
2013-03-21 15:45:42,290 - INFO  [main:ClientBase@395] - STOPPING server
2013-03-21 15:45:42,291 - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@236] - Ignoring exception
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:204)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:45:42,293 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@240] - NIOServerCnxn factory exited run method
2013-03-21 15:45:42,294 - INFO  [main:ZooKeeperServer@428] - shutting down
2013-03-21 15:45:42,294 - INFO  [main:SessionTrackerImpl@220] - Shutting down
2013-03-21 15:45:42,294 - INFO  [main:PrepRequestProcessor@733] - Shutting down
2013-03-21 15:45:42,294 - INFO  [main:SyncRequestProcessor@173] - Shutting down
2013-03-21 15:45:42,295 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:45:42,295 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@135] - PrepRequestProcessor exited loop!
2013-03-21 15:45:42,295 - INFO  [SyncThread:0:SyncRequestProcessor@155] - SyncRequestProcessor exited!
2013-03-21 15:45:42,296 - INFO  [main:FinalRequestProcessor@414] - shutdown of request processor complete
2013-03-21 15:45:42,296 - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 15000
2013-03-21 15:45:43,290 - INFO  [main:JMXEnv@133] - ensureOnly:[]
2013-03-21 15:45:43,294 - INFO  [main:HedwigHubTestBase@171] - FINISHED null
2013-03-21 15:57:18,961 - INFO  [main:HedwigHubTestBase@158] - STARTING null
2013-03-21 15:57:18,976 - INFO  [main:PortAssignment@32] - assigning port 11221
2013-03-21 15:57:19,109 - INFO  [main:ClientBase@388] - STARTING server
2013-03-21 15:57:19,116 - INFO  [main:Environment@98] - Server environment:zookeeper.version=3.4.3-1240972, built on 02/06/2012 10:48 GMT
2013-03-21 15:57:19,117 - INFO  [main:Environment@98] - Server environment:host.name=ly-PC
2013-03-21 15:57:19,117 - INFO  [main:Environment@98] - Server environment:java.version=1.7.0_01
2013-03-21 15:57:19,117 - INFO  [main:Environment@98] - Server environment:java.vendor=Oracle Corporation
2013-03-21 15:57:19,118 - INFO  [main:Environment@98] - Server environment:java.home=D:\Program Files (x86)\Java\jdk1.7.0_01\jre
2013-03-21 15:57:19,118 - INFO  [main:Environment@98] - Server environment:java.class.path=C:\Users\ly\Git\msgbus\hedwig-server\target\test-classes;C:\Users\ly\Git\msgbus\hedwig-server\target\classes;F:\cloud compute\maven\repository\junit\junit\4.8.1\junit-4.8.1.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-api\1.6.4\slf4j-api-1.6.4.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-log4j12\1.6.4\slf4j-log4j12-1.6.4.jar;C:\Users\ly\Git\msgbus\hedwig-client\target\classes;C:\Users\ly\Git\msgbus\hedwig-protocol\target\classes;F:\cloud compute\maven\repository\org\jboss\netty\netty\3.2.4.Final\netty-3.2.4.Final.jar;F:\cloud compute\maven\repository\commons-configuration\commons-configuration\1.6\commons-configuration-1.6.jar;F:\cloud compute\maven\repository\commons-collections\commons-collections\3.2.1\commons-collections-3.2.1.jar;F:\cloud compute\maven\repository\commons-lang\commons-lang\2.4\commons-lang-2.4.jar;F:\cloud compute\maven\repository\commons-digester\commons-digester\1.8\commons-digester-1.8.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils-core\1.8.0\commons-beanutils-core-1.8.0.jar;F:\cloud compute\maven\repository\org\apache\derby\derby\10.8.2.2\derby-10.8.2.2.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3-tests.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\classes;F:\cloud compute\maven\repository\com\google\protobuf\protobuf-java\2.4.1\protobuf-java-2.4.1.jar;F:\cloud compute\maven\repository\com\google\guava\guava\13.0.1\guava-13.0.1.jar;F:\cloud compute\maven\repository\commons-cli\commons-cli\1.2\commons-cli-1.2.jar;F:\cloud compute\maven\repository\commons-codec\commons-codec\1.6\commons-codec-1.6.jar;F:\cloud compute\maven\repository\commons-io\commons-io\2.1\commons-io-2.1.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\test-classes;F:\cloud compute\maven\repository\log4j\log4j\1.2.15\log4j-1.2.15.jar;F:\cloud compute\maven\repository\jline\jline\0.9.94\jline-0.9.94.jar;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.1.0\target\classes;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.0.0\target\classes;C:\Users\ly\Git\msgbus\msgbus-mq\target\classes;F:\cloud compute\maven\repository\com\netflix\curator\curator-client\1.2.3\curator-client-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-framework\1.2.3\curator-framework-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-recipes\1.2.3\curator-recipes-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-test\1.2.3\curator-test-1.2.3.jar;F:\cloud compute\maven\repository\org\javassist\javassist\3.15.0-GA\javassist-3.15.0-GA.jar;F:\cloud compute\maven\repository\org\apache\commons\commons-math\2.2\commons-math-2.2.jar;F:\cloud compute\maven\repository\commons-logging\commons-logging\1.1.1\commons-logging-1.1.1.jar;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/207/1/.cp/;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/206/1/.cp/
2013-03-21 15:57:19,118 - INFO  [main:Environment@98] - Server environment:java.library.path=D:\Program Files (x86)\Java\jdk1.7.0_01\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;D:/Program Files (x86)/Java/jre7/bin/client;D:/Program Files (x86)/Java/jre7/bin;D:/Program Files (x86)/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\Program Files (x86)\Git\cmd;D:\Program Files\TortoiseGit\bin;D:\Program Files (x86)\Rational\common;D:\Program Files\TortoiseSVN\bin;D:\Program Files (x86)\Java\jdk1.7.0_01\bin;F:\cloud compute\maven\apache-maven-3.0.4\bin;D:\Program Files (x86)\Git\bin;F:\cloud compute\eclipse;;.
2013-03-21 15:57:19,119 - INFO  [main:Environment@98] - Server environment:java.io.tmpdir=C:\Users\ly\AppData\Local\Temp\
2013-03-21 15:57:19,119 - INFO  [main:Environment@98] - Server environment:java.compiler=<NA>
2013-03-21 15:57:19,119 - INFO  [main:Environment@98] - Server environment:os.name=Windows 7
2013-03-21 15:57:19,120 - INFO  [main:Environment@98] - Server environment:os.arch=x86
2013-03-21 15:57:19,120 - INFO  [main:Environment@98] - Server environment:os.version=6.1
2013-03-21 15:57:19,120 - INFO  [main:Environment@98] - Server environment:user.name=ly
2013-03-21 15:57:19,120 - INFO  [main:Environment@98] - Server environment:user.home=C:\Users\ly
2013-03-21 15:57:19,121 - INFO  [main:Environment@98] - Server environment:user.dir=C:\Users\ly\Git\msgbus\hedwig-server
2013-03-21 15:57:19,149 - INFO  [main:ZooKeeperServer@171] - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir F:\test1\test4421716029861588307.junit.dir\version-2 snapdir F:\test1\test4421716029861588307.junit.dir\version-2
2013-03-21 15:57:19,162 - INFO  [main:NIOServerCnxnFactory@110] - binding to port 0.0.0.0/0.0.0.0:15000
2013-03-21 15:57:19,167 - INFO  [main:FileTxnSnapLog@238] - Snapshotting: 0x0 to F:\test1\test4421716029861588307.junit.dir\version-2\snapshot.0
2013-03-21 15:57:19,190 - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 15000
2013-03-21 15:57:19,191 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51908
2013-03-21 15:57:19,195 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@820] - Processing stat command from /127.0.0.1:51908
2013-03-21 15:57:19,197 - INFO  [Thread-2:NIOServerCnxn$StatCommand@655] - Stat command output
2013-03-21 15:57:19,198 - INFO  [Thread-2:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51908 (no session established for client)
2013-03-21 15:57:19,198 - INFO  [main:JMXEnv@133] - ensureOnly:[InMemoryDataTree, StandaloneServer_port]
2013-03-21 15:57:19,202 - INFO  [main:JMXEnv@105] - expect:InMemoryDataTree
2013-03-21 15:57:19,203 - INFO  [main:JMXEnv@108] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=StandaloneServer_port-1,name1=InMemoryDataTree
2013-03-21 15:57:19,203 - INFO  [main:JMXEnv@105] - expect:StandaloneServer_port
2013-03-21 15:57:19,203 - INFO  [main:JMXEnv@108] - found:StandaloneServer_port org.apache.ZooKeeperService:name0=StandaloneServer_port-1
2013-03-21 15:57:19,204 - INFO  [main:ClientBase@384] - Client test setup finished
2013-03-21 15:57:19,208 - INFO  [main:Environment@98] - Client environment:zookeeper.version=3.4.3-1240972, built on 02/06/2012 10:48 GMT
2013-03-21 15:57:19,209 - INFO  [main:Environment@98] - Client environment:host.name=ly-PC
2013-03-21 15:57:19,209 - INFO  [main:Environment@98] - Client environment:java.version=1.7.0_01
2013-03-21 15:57:19,209 - INFO  [main:Environment@98] - Client environment:java.vendor=Oracle Corporation
2013-03-21 15:57:19,210 - INFO  [main:Environment@98] - Client environment:java.home=D:\Program Files (x86)\Java\jdk1.7.0_01\jre
2013-03-21 15:57:19,210 - INFO  [main:Environment@98] - Client environment:java.class.path=C:\Users\ly\Git\msgbus\hedwig-server\target\test-classes;C:\Users\ly\Git\msgbus\hedwig-server\target\classes;F:\cloud compute\maven\repository\junit\junit\4.8.1\junit-4.8.1.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-api\1.6.4\slf4j-api-1.6.4.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-log4j12\1.6.4\slf4j-log4j12-1.6.4.jar;C:\Users\ly\Git\msgbus\hedwig-client\target\classes;C:\Users\ly\Git\msgbus\hedwig-protocol\target\classes;F:\cloud compute\maven\repository\org\jboss\netty\netty\3.2.4.Final\netty-3.2.4.Final.jar;F:\cloud compute\maven\repository\commons-configuration\commons-configuration\1.6\commons-configuration-1.6.jar;F:\cloud compute\maven\repository\commons-collections\commons-collections\3.2.1\commons-collections-3.2.1.jar;F:\cloud compute\maven\repository\commons-lang\commons-lang\2.4\commons-lang-2.4.jar;F:\cloud compute\maven\repository\commons-digester\commons-digester\1.8\commons-digester-1.8.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils-core\1.8.0\commons-beanutils-core-1.8.0.jar;F:\cloud compute\maven\repository\org\apache\derby\derby\10.8.2.2\derby-10.8.2.2.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3-tests.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\classes;F:\cloud compute\maven\repository\com\google\protobuf\protobuf-java\2.4.1\protobuf-java-2.4.1.jar;F:\cloud compute\maven\repository\com\google\guava\guava\13.0.1\guava-13.0.1.jar;F:\cloud compute\maven\repository\commons-cli\commons-cli\1.2\commons-cli-1.2.jar;F:\cloud compute\maven\repository\commons-codec\commons-codec\1.6\commons-codec-1.6.jar;F:\cloud compute\maven\repository\commons-io\commons-io\2.1\commons-io-2.1.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\test-classes;F:\cloud compute\maven\repository\log4j\log4j\1.2.15\log4j-1.2.15.jar;F:\cloud compute\maven\repository\jline\jline\0.9.94\jline-0.9.94.jar;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.1.0\target\classes;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.0.0\target\classes;C:\Users\ly\Git\msgbus\msgbus-mq\target\classes;F:\cloud compute\maven\repository\com\netflix\curator\curator-client\1.2.3\curator-client-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-framework\1.2.3\curator-framework-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-recipes\1.2.3\curator-recipes-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-test\1.2.3\curator-test-1.2.3.jar;F:\cloud compute\maven\repository\org\javassist\javassist\3.15.0-GA\javassist-3.15.0-GA.jar;F:\cloud compute\maven\repository\org\apache\commons\commons-math\2.2\commons-math-2.2.jar;F:\cloud compute\maven\repository\commons-logging\commons-logging\1.1.1\commons-logging-1.1.1.jar;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/207/1/.cp/;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/206/1/.cp/
2013-03-21 15:57:19,210 - INFO  [main:Environment@98] - Client environment:java.library.path=D:\Program Files (x86)\Java\jdk1.7.0_01\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;D:/Program Files (x86)/Java/jre7/bin/client;D:/Program Files (x86)/Java/jre7/bin;D:/Program Files (x86)/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\Program Files (x86)\Git\cmd;D:\Program Files\TortoiseGit\bin;D:\Program Files (x86)\Rational\common;D:\Program Files\TortoiseSVN\bin;D:\Program Files (x86)\Java\jdk1.7.0_01\bin;F:\cloud compute\maven\apache-maven-3.0.4\bin;D:\Program Files (x86)\Git\bin;F:\cloud compute\eclipse;;.
2013-03-21 15:57:19,211 - INFO  [main:Environment@98] - Client environment:java.io.tmpdir=C:\Users\ly\AppData\Local\Temp\
2013-03-21 15:57:19,211 - INFO  [main:Environment@98] - Client environment:java.compiler=<NA>
2013-03-21 15:57:19,211 - INFO  [main:Environment@98] - Client environment:os.name=Windows 7
2013-03-21 15:57:19,211 - INFO  [main:Environment@98] - Client environment:os.arch=x86
2013-03-21 15:57:19,212 - INFO  [main:Environment@98] - Client environment:os.version=6.1
2013-03-21 15:57:19,212 - INFO  [main:Environment@98] - Client environment:user.name=ly
2013-03-21 15:57:19,212 - INFO  [main:Environment@98] - Client environment:user.home=C:\Users\ly
2013-03-21 15:57:19,212 - INFO  [main:Environment@98] - Client environment:user.dir=C:\Users\ly\Git\msgbus\hedwig-server
2013-03-21 15:57:19,214 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@fd899
2013-03-21 15:57:19,228 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:57:19,231 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:57:19,232 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51911
2013-03-21 15:57:19,232 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:57:19,234 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51911
2013-03-21 15:57:19,237 - INFO  [SyncThread:0:FileTxnLog@199] - Creating new log file: log.1
2013-03-21 15:57:19,263 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bf3bbc40000 with negotiated timeout 30000 for client /127.0.0.1:51911
2013-03-21 15:57:19,263 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bf3bbc40000, negotiated timeout = 30000
2013-03-21 15:57:19,267 - INFO  [main:JMXEnv@105] - expect:0x13d8bf3bbc40000
2013-03-21 15:57:19,267 - INFO  [main:JMXEnv@108] - found:0x13d8bf3bbc40000 org.apache.ZooKeeperService:name0=StandaloneServer_port-1,name1=Connections,name2=127.0.0.1,name3=0x13d8bf3bbc40000
2013-03-21 15:57:19,356 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@fd037d
2013-03-21 15:57:19,358 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:57:19,359 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:57:19,360 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:57:19,360 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51914
2013-03-21 15:57:19,370 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51914
2013-03-21 15:57:19,385 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bf3bbc40001 with negotiated timeout 10000 for client /127.0.0.1:51914
2013-03-21 15:57:19,385 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bf3bbc40001, negotiated timeout = 10000
2013-03-21 15:57:19,388 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:57:19,571 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:57:19,571 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:57:19,575 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:57:19,575 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:57:19,582 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150017477919161650663689test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:57:19,589 - INFO  [BookieJournal-15001:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150017477919161650663689test\current\73bc17.txn
2013-03-21 15:57:19,650 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@1a79117
2013-03-21 15:57:19,654 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:57:19,654 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:57:19,655 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:57:19,655 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51919
2013-03-21 15:57:19,656 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51919
2013-03-21 15:57:19,707 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bf3bbc40002 with negotiated timeout 10000 for client /127.0.0.1:51919
2013-03-21 15:57:19,707 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bf3bbc40002, negotiated timeout = 10000
2013-03-21 15:57:19,708 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:57:19,736 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:57:19,736 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:57:19,737 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:57:19,737 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:57:19,737 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150024086553691404694921test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:57:19,740 - INFO  [BookieJournal-15002:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150024086553691404694921test\current\73bcae.txn
2013-03-21 15:57:19,764 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@1a87caa
2013-03-21 15:57:19,765 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:57:19,766 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:57:19,766 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:57:19,767 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51924
2013-03-21 15:57:19,767 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51924
2013-03-21 15:57:19,826 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bf3bbc40003 with negotiated timeout 10000 for client /127.0.0.1:51924
2013-03-21 15:57:19,826 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bf3bbc40003, negotiated timeout = 10000
2013-03-21 15:57:19,827 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 15:57:19,842 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 15:57:19,842 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 15:57:19,842 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 15:57:19,843 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 15:57:19,843 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150033468640347470239165test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 15:57:19,846 - INFO  [BookieJournal-15003:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150033468640347470239165test\current\73bd18.txn
2013-03-21 15:57:19,895 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@148d778
2013-03-21 15:57:19,897 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:57:19,898 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:57:19,898 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51929
2013-03-21 15:57:19,898 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:57:19,909 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51929
2013-03-21 15:57:19,940 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bf3bbc40004 with negotiated timeout 10000 for client /127.0.0.1:51929
2013-03-21 15:57:19,940 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bf3bbc40004, negotiated timeout = 10000
2013-03-21 15:57:19,979 - INFO  [Thread-7:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=2000 watcher=org.apache.hedwig.server.netty.PubSubServer$1@10c892c
2013-03-21 15:57:19,981 - INFO  [Thread-7-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 15:57:19,982 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 15:57:19,982 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:51932
2013-03-21 15:57:19,983 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 15:57:19,993 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:51932
2013-03-21 15:57:20,025 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bf3bbc40005 with negotiated timeout 6000 for client /127.0.0.1:51932
2013-03-21 15:57:20,025 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bf3bbc40005, negotiated timeout = 6000
2013-03-21 15:57:20,092 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf3bbc40005 type:create cxid:0x2 zxid:0x11 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/managers/METADATA Error:KeeperErrorCode = NoNode for /hedwig/standalone/managers/METADATA
2013-03-21 15:57:20,108 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf3bbc40005 type:create cxid:0x3 zxid:0x12 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/managers Error:KeeperErrorCode = NoNode for /hedwig/standalone/managers
2013-03-21 15:57:20,126 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf3bbc40005 type:create cxid:0x4 zxid:0x13 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone Error:KeeperErrorCode = NoNode for /hedwig/standalone
2013-03-21 15:57:20,143 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf3bbc40005 type:create cxid:0x5 zxid:0x14 txntype:-1 reqpath:n/a Error Path:/hedwig Error:KeeperErrorCode = NoNode for /hedwig
2013-03-21 15:57:20,174 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig..................................... is created
2013-03-21 15:57:20,192 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone..................................... is created
2013-03-21 15:57:20,207 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers..................................... is created
2013-03-21 15:57:20,225 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers/METADATA..................................... is created
2013-03-21 15:57:20,245 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers/METADATA/LAYOUT..................................... is created
2013-03-21 15:57:20,259 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf3bbc40005 type:create cxid:0xb zxid:0x1a txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/hosts Error:KeeperErrorCode = NoNode for /hedwig/standalone/hosts
2013-03-21 15:57:20,290 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/hosts..................................... is created
2013-03-21 15:57:20,309 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/hosts/192.168.0.155:60000:60001..................................... is created
2013-03-21 15:57:20,311 - INFO  [Thread-7-EventThread:ZkTopicManager$2@104] - Successfully registered hub hostname: "192.168.0.155:60000:60001"
czxid: 28
 with zookeeper
2013-03-21 15:57:20,369 - INFO  [Thread-7:PubSubServer@269] - Going into receive loop
2013-03-21 15:57:20,492 - INFO  [Thread-7:PubSubServer@269] - Going into receive loop
2013-03-21 15:57:20,495 - INFO  [main:HedwigHubTestBase@162] - HedwigHub test setup finished
2013-03-21 15:57:20,561 - INFO  [Thread-7-EventThread:ZkTopicManager$ZkGetOwnerOp$1@166] - 192.168.0.155:60000:60001 : Least loaded owner hostname: "192.168.0.155:60000:60001"
czxid: 28
 is chosen for topic messageQueue-test
2013-03-21 15:57:20,562 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf3bbc40005 type:create cxid:0x14 zxid:0x1d txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics/messageQueue-test Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics/messageQueue-test
2013-03-21 15:57:20,583 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf3bbc40005 type:create cxid:0x15 zxid:0x1e txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics
2013-03-21 15:57:20,616 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics..................................... is created
2013-03-21 15:57:20,631 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test..................................... is created
2013-03-21 15:57:20,650 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/hub..................................... is created
2013-03-21 15:57:20,664 - INFO  [Thread-7-EventThread:BookkeeperPersistenceManager$AcquireOp@870] - Process 0 ledgers for topic messageQueue-test starting from seq id 1.
2013-03-21 15:57:20,672 - INFO  [Thread-7-EventThread:AbstractSubscriptionManager$AcquireOp$1$1@192] - Subscription manager successfully acquired topic: messageQueue-test
2013-03-21 15:57:20,725 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/ledgers..................................... is created
2013-03-21 15:57:20,729 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf3bbc40005 type:create cxid:0x1e zxid:0x25 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics/messageQueue-test/subscribers Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics/messageQueue-test/subscribers
2013-03-21 15:57:20,792 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/subscribers..................................... is created
2013-03-21 15:57:20,808 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/subscribers/@q_subid..................................... is created
2013-03-21 15:57:20,811 - INFO  [Thread-7-EventThread:CallbackUtils$3@148] - [standalone] all cross-region subscriptions succeeded
2013-03-21 15:57:20,824 - INFO  [pool-13-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15003
2013-03-21 15:57:20,841 - INFO  [pool-13-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15002
2013-03-21 15:57:20,842 - INFO  [New I/O client worker #2-1:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15003
2013-03-21 15:57:20,844 - INFO  [New I/O client worker #2-2:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15002
2013-03-21 15:57:21,029 - INFO  [pool-13-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15001
2013-03-21 15:57:21,049 - INFO  [New I/O client worker #2-3:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15001
2013-03-21 15:57:21,578 - INFO  [Thread-7-EventThread:SubscribeHandler$1@200] - Subscribe request (2) for (topic:messageQueue-test, subscriber:@q_subid) from channel /127.0.0.1:51969 succeed - its subscription data is State : { consumeSeqId: local:0 };Preferences : { System Preferences : [] };
2013-03-21 15:57:21,582 - INFO  [pool-8-thread-1:SubscribeHandler$1@200] - Subscribe request (2) for (topic:messageQueue-test, subscriber:@q_subid) from channel /127.0.0.1:51970 succeed - its subscription data is State : { consumeSeqId: local:0 };Preferences : { System Preferences : [] };
2013-03-21 15:57:21,645 - INFO  [Thread-12:HedwigClientImpl@109] - Stopping the client!
2013-03-21 15:57:21,645 - INFO  [Thread-12:AbstractHChannelManager@572] - Shutting down the channels manager.
2013-03-21 15:57:21,646 - WARN  [New I/O client worker #4-2:MessageConsumeCallback@88] - No subscription Topic: messageQueue-test, SubscriberId: @q_subid found to consume message local:210.
2013-03-21 15:57:21,646 - INFO  [New I/O server worker #1-5:SubscriptionChannelManager@87] - Subscription channel /127.0.0.1:51970 for Topic: messageQueue-test, SubscriberId: @q_subid is disconnected.
2013-03-21 15:57:21,647 - INFO  [Thread-12:HedwigClientImpl@119] - Completed stopping the client!
2013-03-21 15:57:31,583 - ERROR [Thread-11:NIOServerCnxnFactory$1@49] - Thread Thread[Thread-11,5,main] died
java.lang.AssertionError: Timed out waiting on callback for messages.
	at org.junit.Assert.fail(Assert.java:91)
	at org.junit.Assert.assertTrue(Assert.java:43)
	at org.apache.hedwig.server.test.Tools.recv(Tools.java:79)
	at org.apache.hedwig.server.test.TestConsumerCluster$1QueueConsumer1.run(TestConsumerCluster.java:180)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:57:36,493 - INFO  [main:HedwigHubTestBase@168] - tearDown starting
2013-03-21 15:57:36,542 - INFO  [main:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15001
2013-03-21 15:57:36,545 - INFO  [main:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15002
2013-03-21 15:57:36,546 - INFO  [main:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15003
2013-03-21 15:57:36,548 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bf3bbc40005
2013-03-21 15:57:36,567 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bf3bbc40005 closed
2013-03-21 15:57:36,568 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51932 which had sessionid 0x13d8bf3bbc40005
2013-03-21 15:57:36,568 - INFO  [Thread-7-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:57:36,571 - INFO  [New I/O client worker #5-2:HChannelHandler@247] - Channel [id: 0x00fb4226, /127.0.0.1:51969 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 15:57:36,571 - INFO  [New I/O client worker #5-2:SimpleHChannelManager@142] - Subscription Channel [id: 0x00fb4226, /127.0.0.1:51969 :> localhost/127.0.0.1:60000] disconnected from localhost/127.0.0.1:60000.
2013-03-21 15:57:36,571 - INFO  [New I/O server worker #1-4:SubscriptionChannelManager@87] - Subscription channel /127.0.0.1:51969 for Topic: messageQueue-test, SubscriberId: @q_subid is disconnected.
2013-03-21 15:57:36,571 - INFO  [New I/O client worker #5-1:HChannelHandler@247] - Channel [id: 0x016efbc1, /127.0.0.1:51960 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 15:57:36,577 - INFO  [New I/O client worker #5-1:AbstractHChannelManager@344] - NonSubscription Channel [id: 0x016efbc1, /127.0.0.1:51960 :> localhost/127.0.0.1:60000] to localhost/127.0.0.1:60000 disconnected.
2013-03-21 15:57:36,578 - INFO  [New I/O client worker #5-2:SimpleSubscribeResponseHandler$4@577] - Subscription channel [id: 0x00fb4226, /127.0.0.1:51969 :> localhost/127.0.0.1:60000] for (Topic: messageQueue-test, SubscriberId: @q_subid) is disconnected.
2013-03-21 15:57:36,578 - INFO  [New I/O client worker #3-1:HChannelHandler@247] - Channel [id: 0x00438e1e, /127.0.0.1:51937 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 15:57:36,580 - INFO  [New I/O client worker #3-1:AbstractHChannelManager@344] - NonSubscription Channel [id: 0x00438e1e, /127.0.0.1:51937 :> localhost/127.0.0.1:60000] to localhost/127.0.0.1:60000 disconnected.
2013-03-21 15:57:36,585 - INFO  [NIOServerFactory-15001:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:57:36,586 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bf3bbc40001
2013-03-21 15:57:36,600 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bf3bbc40001 closed
2013-03-21 15:57:36,601 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:57:36,601 - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@349] - caught end of stream exception
EndOfStreamException: Unable to read additional data from client sessionid 0x13d8bf3bbc40001, likely client has closed socket
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:220)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:224)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:57:36,602 - INFO  [Thread-4:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:57:36,602 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51914 which had sessionid 0x13d8bf3bbc40001
2013-03-21 15:57:36,602 - WARN  [BookieJournal-15001:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:57:36,631 - WARN  [NIOServerFactory-15002:NIOServerFactory@128] - Exception in server socket loop: /0:0:0:0:0:0:0:0
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.bookkeeper.proto.NIOServerFactory.run(NIOServerFactory.java:115)
2013-03-21 15:57:36,632 - INFO  [NIOServerFactory-15002:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:57:36,633 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bf3bbc40002
2013-03-21 15:57:36,660 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51919 which had sessionid 0x13d8bf3bbc40002
2013-03-21 15:57:36,660 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bf3bbc40002 closed
2013-03-21 15:57:36,661 - INFO  [Thread-5:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:57:36,661 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:57:36,662 - WARN  [BookieJournal-15002:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:57:36,682 - WARN  [NIOServerFactory-15003:NIOServerFactory@128] - Exception in server socket loop: /0:0:0:0:0:0:0:0
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.bookkeeper.proto.NIOServerFactory.run(NIOServerFactory.java:115)
2013-03-21 15:57:36,682 - INFO  [NIOServerFactory-15003:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 15:57:36,683 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bf3bbc40003
2013-03-21 15:57:36,709 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51924 which had sessionid 0x13d8bf3bbc40003
2013-03-21 15:57:36,709 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bf3bbc40003 closed
2013-03-21 15:57:36,709 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:57:36,710 - INFO  [Thread-6:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 15:57:36,710 - WARN  [BookieJournal-15003:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 15:57:36,740 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bf3bbc40004
2013-03-21 15:57:36,768 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51929 which had sessionid 0x13d8bf3bbc40004
2013-03-21 15:57:36,769 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bf3bbc40004 closed
2013-03-21 15:57:36,770 - INFO  [main:ClientBase@425] - tearDown starting
2013-03-21 15:57:36,771 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:57:36,771 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bf3bbc40000
2013-03-21 15:57:36,784 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:51911 which had sessionid 0x13d8bf3bbc40000
2013-03-21 15:57:36,784 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bf3bbc40000 closed
2013-03-21 15:57:36,785 - INFO  [main:ClientBase@395] - STOPPING server
2013-03-21 15:57:36,786 - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@236] - Ignoring exception
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:204)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 15:57:36,787 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@240] - NIOServerCnxn factory exited run method
2013-03-21 15:57:36,787 - INFO  [main:ZooKeeperServer@428] - shutting down
2013-03-21 15:57:36,787 - INFO  [main:SessionTrackerImpl@220] - Shutting down
2013-03-21 15:57:36,788 - INFO  [main:PrepRequestProcessor@733] - Shutting down
2013-03-21 15:57:36,788 - INFO  [main:SyncRequestProcessor@173] - Shutting down
2013-03-21 15:57:36,789 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 15:57:36,790 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@135] - PrepRequestProcessor exited loop!
2013-03-21 15:57:36,790 - INFO  [SyncThread:0:SyncRequestProcessor@155] - SyncRequestProcessor exited!
2013-03-21 15:57:36,790 - INFO  [main:FinalRequestProcessor@414] - shutdown of request processor complete
2013-03-21 15:57:36,791 - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 15000
2013-03-21 15:57:37,795 - INFO  [main:JMXEnv@133] - ensureOnly:[]
2013-03-21 15:57:37,802 - INFO  [main:HedwigHubTestBase@171] - FINISHED null
2013-03-21 16:03:56,003 - INFO  [main:HedwigHubTestBase@158] - STARTING null
2013-03-21 16:03:56,018 - INFO  [main:PortAssignment@32] - assigning port 11221
2013-03-21 16:03:56,152 - INFO  [main:ClientBase@388] - STARTING server
2013-03-21 16:03:56,159 - INFO  [main:Environment@98] - Server environment:zookeeper.version=3.4.3-1240972, built on 02/06/2012 10:48 GMT
2013-03-21 16:03:56,160 - INFO  [main:Environment@98] - Server environment:host.name=ly-PC
2013-03-21 16:03:56,160 - INFO  [main:Environment@98] - Server environment:java.version=1.7.0_01
2013-03-21 16:03:56,161 - INFO  [main:Environment@98] - Server environment:java.vendor=Oracle Corporation
2013-03-21 16:03:56,161 - INFO  [main:Environment@98] - Server environment:java.home=D:\Program Files (x86)\Java\jdk1.7.0_01\jre
2013-03-21 16:03:56,161 - INFO  [main:Environment@98] - Server environment:java.class.path=C:\Users\ly\Git\msgbus\hedwig-server\target\test-classes;C:\Users\ly\Git\msgbus\hedwig-server\target\classes;F:\cloud compute\maven\repository\junit\junit\4.8.1\junit-4.8.1.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-api\1.6.4\slf4j-api-1.6.4.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-log4j12\1.6.4\slf4j-log4j12-1.6.4.jar;C:\Users\ly\Git\msgbus\hedwig-client\target\classes;C:\Users\ly\Git\msgbus\hedwig-protocol\target\classes;F:\cloud compute\maven\repository\org\jboss\netty\netty\3.2.4.Final\netty-3.2.4.Final.jar;F:\cloud compute\maven\repository\commons-configuration\commons-configuration\1.6\commons-configuration-1.6.jar;F:\cloud compute\maven\repository\commons-collections\commons-collections\3.2.1\commons-collections-3.2.1.jar;F:\cloud compute\maven\repository\commons-lang\commons-lang\2.4\commons-lang-2.4.jar;F:\cloud compute\maven\repository\commons-digester\commons-digester\1.8\commons-digester-1.8.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils-core\1.8.0\commons-beanutils-core-1.8.0.jar;F:\cloud compute\maven\repository\org\apache\derby\derby\10.8.2.2\derby-10.8.2.2.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3-tests.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\classes;F:\cloud compute\maven\repository\com\google\protobuf\protobuf-java\2.4.1\protobuf-java-2.4.1.jar;F:\cloud compute\maven\repository\com\google\guava\guava\13.0.1\guava-13.0.1.jar;F:\cloud compute\maven\repository\commons-cli\commons-cli\1.2\commons-cli-1.2.jar;F:\cloud compute\maven\repository\commons-codec\commons-codec\1.6\commons-codec-1.6.jar;F:\cloud compute\maven\repository\commons-io\commons-io\2.1\commons-io-2.1.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\test-classes;F:\cloud compute\maven\repository\log4j\log4j\1.2.15\log4j-1.2.15.jar;F:\cloud compute\maven\repository\jline\jline\0.9.94\jline-0.9.94.jar;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.1.0\target\classes;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.0.0\target\classes;C:\Users\ly\Git\msgbus\msgbus-mq\target\classes;F:\cloud compute\maven\repository\com\netflix\curator\curator-client\1.2.3\curator-client-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-framework\1.2.3\curator-framework-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-recipes\1.2.3\curator-recipes-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-test\1.2.3\curator-test-1.2.3.jar;F:\cloud compute\maven\repository\org\javassist\javassist\3.15.0-GA\javassist-3.15.0-GA.jar;F:\cloud compute\maven\repository\org\apache\commons\commons-math\2.2\commons-math-2.2.jar;F:\cloud compute\maven\repository\commons-logging\commons-logging\1.1.1\commons-logging-1.1.1.jar;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/207/1/.cp/;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/206/1/.cp/
2013-03-21 16:03:56,162 - INFO  [main:Environment@98] - Server environment:java.library.path=D:\Program Files (x86)\Java\jdk1.7.0_01\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;D:/Program Files (x86)/Java/jre7/bin/client;D:/Program Files (x86)/Java/jre7/bin;D:/Program Files (x86)/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\Program Files (x86)\Git\cmd;D:\Program Files\TortoiseGit\bin;D:\Program Files (x86)\Rational\common;D:\Program Files\TortoiseSVN\bin;D:\Program Files (x86)\Java\jdk1.7.0_01\bin;F:\cloud compute\maven\apache-maven-3.0.4\bin;D:\Program Files (x86)\Git\bin;F:\cloud compute\eclipse;;.
2013-03-21 16:03:56,162 - INFO  [main:Environment@98] - Server environment:java.io.tmpdir=C:\Users\ly\AppData\Local\Temp\
2013-03-21 16:03:56,163 - INFO  [main:Environment@98] - Server environment:java.compiler=<NA>
2013-03-21 16:03:56,163 - INFO  [main:Environment@98] - Server environment:os.name=Windows 7
2013-03-21 16:03:56,163 - INFO  [main:Environment@98] - Server environment:os.arch=x86
2013-03-21 16:03:56,164 - INFO  [main:Environment@98] - Server environment:os.version=6.1
2013-03-21 16:03:56,164 - INFO  [main:Environment@98] - Server environment:user.name=ly
2013-03-21 16:03:56,164 - INFO  [main:Environment@98] - Server environment:user.home=C:\Users\ly
2013-03-21 16:03:56,164 - INFO  [main:Environment@98] - Server environment:user.dir=C:\Users\ly\Git\msgbus\hedwig-server
2013-03-21 16:03:56,178 - INFO  [main:ZooKeeperServer@171] - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir F:\test1\test8931438750095722048.junit.dir\version-2 snapdir F:\test1\test8931438750095722048.junit.dir\version-2
2013-03-21 16:03:56,192 - INFO  [main:NIOServerCnxnFactory@110] - binding to port 0.0.0.0/0.0.0.0:15000
2013-03-21 16:03:56,197 - INFO  [main:FileTxnSnapLog@238] - Snapshotting: 0x0 to F:\test1\test8931438750095722048.junit.dir\version-2\snapshot.0
2013-03-21 16:03:56,220 - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 15000
2013-03-21 16:03:56,221 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:52017
2013-03-21 16:03:56,225 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@820] - Processing stat command from /127.0.0.1:52017
2013-03-21 16:03:56,227 - INFO  [Thread-2:NIOServerCnxn$StatCommand@655] - Stat command output
2013-03-21 16:03:56,228 - INFO  [Thread-2:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:52017 (no session established for client)
2013-03-21 16:03:56,228 - INFO  [main:JMXEnv@133] - ensureOnly:[InMemoryDataTree, StandaloneServer_port]
2013-03-21 16:03:56,231 - INFO  [main:JMXEnv@105] - expect:InMemoryDataTree
2013-03-21 16:03:56,232 - INFO  [main:JMXEnv@108] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=StandaloneServer_port-1,name1=InMemoryDataTree
2013-03-21 16:03:56,232 - INFO  [main:JMXEnv@105] - expect:StandaloneServer_port
2013-03-21 16:03:56,232 - INFO  [main:JMXEnv@108] - found:StandaloneServer_port org.apache.ZooKeeperService:name0=StandaloneServer_port-1
2013-03-21 16:03:56,233 - INFO  [main:ClientBase@384] - Client test setup finished
2013-03-21 16:03:56,237 - INFO  [main:Environment@98] - Client environment:zookeeper.version=3.4.3-1240972, built on 02/06/2012 10:48 GMT
2013-03-21 16:03:56,238 - INFO  [main:Environment@98] - Client environment:host.name=ly-PC
2013-03-21 16:03:56,238 - INFO  [main:Environment@98] - Client environment:java.version=1.7.0_01
2013-03-21 16:03:56,238 - INFO  [main:Environment@98] - Client environment:java.vendor=Oracle Corporation
2013-03-21 16:03:56,238 - INFO  [main:Environment@98] - Client environment:java.home=D:\Program Files (x86)\Java\jdk1.7.0_01\jre
2013-03-21 16:03:56,238 - INFO  [main:Environment@98] - Client environment:java.class.path=C:\Users\ly\Git\msgbus\hedwig-server\target\test-classes;C:\Users\ly\Git\msgbus\hedwig-server\target\classes;F:\cloud compute\maven\repository\junit\junit\4.8.1\junit-4.8.1.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-api\1.6.4\slf4j-api-1.6.4.jar;F:\cloud compute\maven\repository\org\slf4j\slf4j-log4j12\1.6.4\slf4j-log4j12-1.6.4.jar;C:\Users\ly\Git\msgbus\hedwig-client\target\classes;C:\Users\ly\Git\msgbus\hedwig-protocol\target\classes;F:\cloud compute\maven\repository\org\jboss\netty\netty\3.2.4.Final\netty-3.2.4.Final.jar;F:\cloud compute\maven\repository\commons-configuration\commons-configuration\1.6\commons-configuration-1.6.jar;F:\cloud compute\maven\repository\commons-collections\commons-collections\3.2.1\commons-collections-3.2.1.jar;F:\cloud compute\maven\repository\commons-lang\commons-lang\2.4\commons-lang-2.4.jar;F:\cloud compute\maven\repository\commons-digester\commons-digester\1.8\commons-digester-1.8.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar;F:\cloud compute\maven\repository\commons-beanutils\commons-beanutils-core\1.8.0\commons-beanutils-core-1.8.0.jar;F:\cloud compute\maven\repository\org\apache\derby\derby\10.8.2.2\derby-10.8.2.2.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3.jar;F:\cloud compute\maven\repository\org\apache\zookeeper\zookeeper\3.4.3\zookeeper-3.4.3-tests.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\classes;F:\cloud compute\maven\repository\com\google\protobuf\protobuf-java\2.4.1\protobuf-java-2.4.1.jar;F:\cloud compute\maven\repository\com\google\guava\guava\13.0.1\guava-13.0.1.jar;F:\cloud compute\maven\repository\commons-cli\commons-cli\1.2\commons-cli-1.2.jar;F:\cloud compute\maven\repository\commons-codec\commons-codec\1.6\commons-codec-1.6.jar;F:\cloud compute\maven\repository\commons-io\commons-io\2.1\commons-io-2.1.jar;F:\cloud compute\workspace\bookkeeper\bookkeeper-server\target\test-classes;F:\cloud compute\maven\repository\log4j\log4j\1.2.15\log4j-1.2.15.jar;F:\cloud compute\maven\repository\jline\jline\0.9.94\jline-0.9.94.jar;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.1.0\target\classes;F:\cloud compute\workspace\bookkeeper\compat-deps\hedwig-server-compat-4.0.0\target\classes;C:\Users\ly\Git\msgbus\msgbus-mq\target\classes;F:\cloud compute\maven\repository\com\netflix\curator\curator-client\1.2.3\curator-client-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-framework\1.2.3\curator-framework-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-recipes\1.2.3\curator-recipes-1.2.3.jar;F:\cloud compute\maven\repository\com\netflix\curator\curator-test\1.2.3\curator-test-1.2.3.jar;F:\cloud compute\maven\repository\org\javassist\javassist\3.15.0-GA\javassist-3.15.0-GA.jar;F:\cloud compute\maven\repository\org\apache\commons\commons-math\2.2\commons-math-2.2.jar;F:\cloud compute\maven\repository\commons-logging\commons-logging\1.1.1\commons-logging-1.1.1.jar;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/207/1/.cp/;/F:/cloud compute/eclipse/configuration/org.eclipse.osgi/bundles/206/1/.cp/
2013-03-21 16:03:56,239 - INFO  [main:Environment@98] - Client environment:java.library.path=D:\Program Files (x86)\Java\jdk1.7.0_01\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;D:/Program Files (x86)/Java/jre7/bin/client;D:/Program Files (x86)/Java/jre7/bin;D:/Program Files (x86)/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;D:\Program Files (x86)\Git\cmd;D:\Program Files\TortoiseGit\bin;D:\Program Files (x86)\Rational\common;D:\Program Files\TortoiseSVN\bin;D:\Program Files (x86)\Java\jdk1.7.0_01\bin;F:\cloud compute\maven\apache-maven-3.0.4\bin;D:\Program Files (x86)\Git\bin;F:\cloud compute\eclipse;;.
2013-03-21 16:03:56,239 - INFO  [main:Environment@98] - Client environment:java.io.tmpdir=C:\Users\ly\AppData\Local\Temp\
2013-03-21 16:03:56,239 - INFO  [main:Environment@98] - Client environment:java.compiler=<NA>
2013-03-21 16:03:56,239 - INFO  [main:Environment@98] - Client environment:os.name=Windows 7
2013-03-21 16:03:56,239 - INFO  [main:Environment@98] - Client environment:os.arch=x86
2013-03-21 16:03:56,239 - INFO  [main:Environment@98] - Client environment:os.version=6.1
2013-03-21 16:03:56,240 - INFO  [main:Environment@98] - Client environment:user.name=ly
2013-03-21 16:03:56,240 - INFO  [main:Environment@98] - Client environment:user.home=C:\Users\ly
2013-03-21 16:03:56,240 - INFO  [main:Environment@98] - Client environment:user.dir=C:\Users\ly\Git\msgbus\hedwig-server
2013-03-21 16:03:56,241 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@4a8ece
2013-03-21 16:03:56,254 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 16:03:56,257 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 16:03:56,258 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:52020
2013-03-21 16:03:56,259 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 16:03:56,261 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:52020
2013-03-21 16:03:56,269 - INFO  [SyncThread:0:FileTxnLog@199] - Creating new log file: log.1
2013-03-21 16:03:56,310 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bf9caab0000 with negotiated timeout 30000 for client /127.0.0.1:52020
2013-03-21 16:03:56,311 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bf9caab0000, negotiated timeout = 30000
2013-03-21 16:03:56,313 - INFO  [main:JMXEnv@105] - expect:0x13d8bf9caab0000
2013-03-21 16:03:56,313 - INFO  [main:JMXEnv@108] - found:0x13d8bf9caab0000 org.apache.ZooKeeperService:name0=StandaloneServer_port-1,name1=Connections,name2=127.0.0.1,name3=0x13d8bf9caab0000
2013-03-21 16:03:56,410 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@1dfc95e
2013-03-21 16:03:56,413 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 16:03:56,413 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 16:03:56,414 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 16:03:56,414 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:52023
2013-03-21 16:03:56,414 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:52023
2013-03-21 16:03:56,427 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bf9caab0001 with negotiated timeout 10000 for client /127.0.0.1:52023
2013-03-21 16:03:56,427 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bf9caab0001, negotiated timeout = 10000
2013-03-21 16:03:56,430 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 16:03:56,648 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 16:03:56,648 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 16:03:56,651 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 16:03:56,652 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 16:03:56,655 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150014250301795590446395test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 16:03:56,663 - INFO  [BookieJournal-15001:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150014250301795590446395test\current\79cb25.txn
2013-03-21 16:03:56,725 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@25303
2013-03-21 16:03:56,728 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 16:03:56,728 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 16:03:56,729 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 16:03:56,729 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:52028
2013-03-21 16:03:56,730 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:52028
2013-03-21 16:03:56,787 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bf9caab0002 with negotiated timeout 10000 for client /127.0.0.1:52028
2013-03-21 16:03:56,787 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bf9caab0002, negotiated timeout = 10000
2013-03-21 16:03:56,788 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 16:03:56,813 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 16:03:56,813 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 16:03:56,814 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 16:03:56,814 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 16:03:56,814 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150027971662031505253523test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 16:03:56,817 - INFO  [BookieJournal-15002:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150027971662031505253523test\current\79cbbf.txn
2013-03-21 16:03:56,871 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.bookie.Bookie$5@1ddc5f7
2013-03-21 16:03:56,873 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 16:03:56,874 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 16:03:56,879 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 16:03:56,964 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:52033
2013-03-21 16:03:56,964 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:52033
2013-03-21 16:03:56,995 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bf9caab0003 with negotiated timeout 10000 for client /127.0.0.1:52033
2013-03-21 16:03:56,995 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bf9caab0003, negotiated timeout = 10000
2013-03-21 16:03:56,996 - WARN  [main:Bookie@380] - INSTANCEID not exists in zookeeper. Not considering it for data verification
2013-03-21 16:03:57,020 - INFO  [main:LedgerCacheImpl@70] - maxMemory = 259522560
2013-03-21 16:03:57,021 - INFO  [main:LedgerCacheImpl@71] - openFileLimit is 900, pageSize is 8192, pageLimit is 10560
2013-03-21 16:03:57,023 - INFO  [main:GarbageCollectorThread@170] - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
2013-03-21 16:03:57,023 - INFO  [main:GarbageCollectorThread@172] - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
2013-03-21 16:03:57,023 - ERROR [main:Journal$LastLogMark@177] - Problems reading from C:\Users\ly\AppData\Local\Temp\bookie150038202646614209150601test\current\lastMark (this is okay if it is the first time starting this bookie
2013-03-21 16:03:57,027 - INFO  [BookieJournal-15003:JournalChannel@66] - Opening journal C:\Users\ly\AppData\Local\Temp\bookie150038202646614209150601test\current\79cc91.txn
2013-03-21 16:03:57,075 - INFO  [main:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@1ee8099
2013-03-21 16:03:57,077 - INFO  [main-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 16:03:57,078 - INFO  [main-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 16:03:57,078 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 16:03:57,078 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:52038
2013-03-21 16:03:57,079 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:52038
2013-03-21 16:03:57,110 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bf9caab0004 with negotiated timeout 10000 for client /127.0.0.1:52038
2013-03-21 16:03:57,110 - INFO  [main-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bf9caab0004, negotiated timeout = 10000
2013-03-21 16:03:57,150 - INFO  [Thread-7:ZooKeeper@433] - Initiating client connection, connectString=127.0.0.1:15000 sessionTimeout=2000 watcher=org.apache.hedwig.server.netty.PubSubServer$1@983d8d
2013-03-21 16:03:57,152 - INFO  [Thread-7-SendThread():ClientCnxn$SendThread@933] - Opening socket connection to server /127.0.0.1:15000
2013-03-21 16:03:57,153 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ZooKeeperSaslClient@125] - Client will not SASL-authenticate because the default JAAS configuration section 'Client' could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.
2013-03-21 16:03:57,153 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@846] - Socket connection established to 127.0.0.1/127.0.0.1:15000, initiating session
2013-03-21 16:03:57,153 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@213] - Accepted socket connection from /127.0.0.1:52041
2013-03-21 16:03:57,156 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:ZooKeeperServer@838] - Client attempting to establish new session at /127.0.0.1:52041
2013-03-21 16:03:57,178 - INFO  [SyncThread:0:ZooKeeperServer@604] - Established session 0x13d8bf9caab0005 with negotiated timeout 6000 for client /127.0.0.1:52041
2013-03-21 16:03:57,178 - INFO  [Thread-7-SendThread(127.0.0.1:15000):ClientCnxn$SendThread@1175] - Session establishment complete on server 127.0.0.1/127.0.0.1:15000, sessionid = 0x13d8bf9caab0005, negotiated timeout = 6000
2013-03-21 16:03:57,249 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf9caab0005 type:create cxid:0x2 zxid:0x11 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/managers/METADATA Error:KeeperErrorCode = NoNode for /hedwig/standalone/managers/METADATA
2013-03-21 16:03:57,273 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf9caab0005 type:create cxid:0x3 zxid:0x12 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/managers Error:KeeperErrorCode = NoNode for /hedwig/standalone/managers
2013-03-21 16:03:57,286 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf9caab0005 type:create cxid:0x4 zxid:0x13 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone Error:KeeperErrorCode = NoNode for /hedwig/standalone
2013-03-21 16:03:57,304 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf9caab0005 type:create cxid:0x5 zxid:0x14 txntype:-1 reqpath:n/a Error Path:/hedwig Error:KeeperErrorCode = NoNode for /hedwig
2013-03-21 16:03:57,338 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig..................................... is created
2013-03-21 16:03:57,352 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone..................................... is created
2013-03-21 16:03:57,398 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers..................................... is created
2013-03-21 16:03:57,429 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers/METADATA..................................... is created
2013-03-21 16:03:57,445 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/managers/METADATA/LAYOUT..................................... is created
2013-03-21 16:03:57,455 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf9caab0005 type:create cxid:0xb zxid:0x1a txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/hosts Error:KeeperErrorCode = NoNode for /hedwig/standalone/hosts
2013-03-21 16:03:57,485 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/hosts..................................... is created
2013-03-21 16:03:57,504 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/hosts/192.168.0.155:60000:60001..................................... is created
2013-03-21 16:03:57,507 - INFO  [Thread-7-EventThread:ZkTopicManager$2@104] - Successfully registered hub hostname: "192.168.0.155:60000:60001"
czxid: 28
 with zookeeper
2013-03-21 16:03:57,560 - INFO  [Thread-7:PubSubServer@269] - Going into receive loop
2013-03-21 16:03:57,680 - INFO  [Thread-7:PubSubServer@269] - Going into receive loop
2013-03-21 16:03:57,683 - INFO  [main:HedwigHubTestBase@162] - HedwigHub test setup finished
2013-03-21 16:03:57,751 - INFO  [Thread-7-EventThread:ZkTopicManager$ZkGetOwnerOp$1@166] - 192.168.0.155:60000:60001 : Least loaded owner hostname: "192.168.0.155:60000:60001"
czxid: 28
 is chosen for topic messageQueue-test
2013-03-21 16:03:57,752 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf9caab0005 type:create cxid:0x14 zxid:0x1d txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics/messageQueue-test Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics/messageQueue-test
2013-03-21 16:03:57,779 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf9caab0005 type:create cxid:0x15 zxid:0x1e txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics
2013-03-21 16:03:57,862 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics..................................... is created
2013-03-21 16:03:57,877 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test..................................... is created
2013-03-21 16:03:57,895 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/hub..................................... is created
2013-03-21 16:03:57,909 - INFO  [Thread-7-EventThread:BookkeeperPersistenceManager$AcquireOp@870] - Process 0 ledgers for topic messageQueue-test starting from seq id 1.
2013-03-21 16:03:57,924 - INFO  [Thread-7-EventThread:AbstractSubscriptionManager$AcquireOp$1$1@192] - Subscription manager successfully acquired topic: messageQueue-test
2013-03-21 16:03:58,054 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/ledgers..................................... is created
2013-03-21 16:03:58,059 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@617] - Got user-level KeeperException when processing sessionid:0x13d8bf9caab0005 type:create cxid:0x1e zxid:0x25 txntype:-1 reqpath:n/a Error Path:/hedwig/standalone/topics/messageQueue-test/subscribers Error:KeeperErrorCode = NoNode for /hedwig/standalone/topics/messageQueue-test/subscribers
2013-03-21 16:03:58,103 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/subscribers..................................... is created
2013-03-21 16:03:58,121 - INFO  [Thread-7-EventThread:ZkUtils$2@87] - node /hedwig/standalone/topics/messageQueue-test/subscribers/@q_subid..................................... is created
2013-03-21 16:03:58,124 - INFO  [Thread-7-EventThread:CallbackUtils$3@148] - [standalone] all cross-region subscriptions succeeded
2013-03-21 16:03:58,140 - INFO  [pool-15-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15002
2013-03-21 16:03:58,157 - INFO  [pool-15-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15001
2013-03-21 16:03:58,160 - INFO  [New I/O client worker #2-1:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15002
2013-03-21 16:03:58,161 - INFO  [New I/O client worker #2-2:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15001
2013-03-21 16:03:58,286 - INFO  [pool-15-thread-1:PerChannelBookieClient@118] - Connecting to bookie: /192.168.0.155:15003
2013-03-21 16:03:58,332 - INFO  [New I/O client worker #2-3:PerChannelBookieClient$1@138] - Successfully connected to bookie: /192.168.0.155:15003
2013-03-21 16:03:58,844 - INFO  [Thread-7-EventThread:SubscribeHandler$1@200] - Subscribe request (2) for (topic:messageQueue-test, subscriber:@q_subid) from channel /127.0.0.1:52078 succeed - its subscription data is State : { consumeSeqId: local:0 };Preferences : { System Preferences : [] };
2013-03-21 16:03:58,848 - INFO  [pool-8-thread-1:SubscribeHandler$1@200] - Subscribe request (2) for (topic:messageQueue-test, subscriber:@q_subid) from channel /127.0.0.1:52079 succeed - its subscription data is State : { consumeSeqId: local:0 };Preferences : { System Preferences : [] };
2013-03-21 16:03:58,899 - INFO  [Thread-12:HedwigClientImpl@109] - Stopping the client!
2013-03-21 16:03:58,899 - INFO  [Thread-12:AbstractHChannelManager@572] - Shutting down the channels manager.
2013-03-21 16:03:58,901 - INFO  [New I/O server worker #1-5:SubscriptionChannelManager@87] - Subscription channel /127.0.0.1:52079 for Topic: messageQueue-test, SubscriberId: @q_subid is disconnected.
2013-03-21 16:03:58,901 - INFO  [Thread-12:HedwigClientImpl@119] - Completed stopping the client!
2013-03-21 16:03:58,906 - INFO  [DeliveryManagerThread:FIFODeliveryManager$RemoveChannelForQueueRequest@1299] - Channel removed!
2013-03-21 16:03:58,906 - INFO  [DeliveryManagerThread:FIFODeliveryManager$RemoveChannelForQueueRequest@1301] - But there are channel still waiting for msg.
2013-03-21 16:04:08,848 - ERROR [Thread-11:NIOServerCnxnFactory$1@49] - Thread Thread[Thread-11,5,main] died
java.lang.AssertionError: Timed out waiting on callback for messages.
	at org.junit.Assert.fail(Assert.java:91)
	at org.junit.Assert.assertTrue(Assert.java:43)
	at org.apache.hedwig.server.test.Tools.recv(Tools.java:79)
	at org.apache.hedwig.server.test.TestConsumerCluster$1QueueConsumer1.run(TestConsumerCluster.java:180)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 16:04:13,755 - INFO  [main:HedwigHubTestBase@168] - tearDown starting
2013-03-21 16:04:13,803 - INFO  [main:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15001
2013-03-21 16:04:13,806 - INFO  [New I/O client worker #2-1:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15002
2013-03-21 16:04:13,807 - INFO  [New I/O client worker #2-3:PerChannelBookieClient@448] - Disconnected from bookie: /192.168.0.155:15003
2013-03-21 16:04:13,809 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bf9caab0005
2013-03-21 16:04:13,837 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bf9caab0005 closed
2013-03-21 16:04:13,837 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:52041 which had sessionid 0x13d8bf9caab0005
2013-03-21 16:04:13,837 - INFO  [Thread-7-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 16:04:13,840 - INFO  [New I/O client worker #5-1:HChannelHandler@247] - Channel [id: 0x00f3a380, /127.0.0.1:52065 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 16:04:13,841 - INFO  [New I/O client worker #5-1:AbstractHChannelManager@344] - NonSubscription Channel [id: 0x00f3a380, /127.0.0.1:52065 :> localhost/127.0.0.1:60000] to localhost/127.0.0.1:60000 disconnected.
2013-03-21 16:04:13,841 - INFO  [New I/O client worker #3-1:HChannelHandler@247] - Channel [id: 0x00e7fc04, /127.0.0.1:52046 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 16:04:13,841 - INFO  [New I/O client worker #5-2:HChannelHandler@247] - Channel [id: 0x00461380, /127.0.0.1:52078 :> localhost/127.0.0.1:60000] was disconnected to host localhost/127.0.0.1:60000.
2013-03-21 16:04:13,841 - INFO  [New I/O client worker #3-1:AbstractHChannelManager@344] - NonSubscription Channel [id: 0x00e7fc04, /127.0.0.1:52046 :> localhost/127.0.0.1:60000] to localhost/127.0.0.1:60000 disconnected.
2013-03-21 16:04:13,841 - INFO  [main:SubscriptionChannelManager@87] - Subscription channel /127.0.0.1:52078 for Topic: messageQueue-test, SubscriberId: @q_subid is disconnected.
2013-03-21 16:04:13,841 - INFO  [New I/O client worker #5-2:SimpleHChannelManager@142] - Subscription Channel [id: 0x00461380, /127.0.0.1:52078 :> localhost/127.0.0.1:60000] disconnected from localhost/127.0.0.1:60000.
2013-03-21 16:04:13,844 - INFO  [New I/O client worker #5-2:SimpleSubscribeResponseHandler$4@577] - Subscription channel [id: 0x00461380, /127.0.0.1:52078 :> localhost/127.0.0.1:60000] for (Topic: messageQueue-test, SubscriberId: @q_subid) is disconnected.
2013-03-21 16:04:13,847 - WARN  [NIOServerFactory-15001:NIOServerFactory@128] - Exception in server socket loop: /0:0:0:0:0:0:0:0
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.bookkeeper.proto.NIOServerFactory.run(NIOServerFactory.java:115)
2013-03-21 16:04:13,847 - INFO  [NIOServerFactory-15001:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 16:04:13,847 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bf9caab0001
2013-03-21 16:04:13,861 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:52023 which had sessionid 0x13d8bf9caab0001
2013-03-21 16:04:13,862 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 16:04:13,862 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bf9caab0001 closed
2013-03-21 16:04:13,863 - INFO  [Thread-4:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 16:04:13,863 - WARN  [BookieJournal-15001:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 16:04:13,892 - INFO  [NIOServerFactory-15002:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 16:04:13,892 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bf9caab0002
2013-03-21 16:04:13,920 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bf9caab0002 closed
2013-03-21 16:04:13,920 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 16:04:13,920 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:52028 which had sessionid 0x13d8bf9caab0002
2013-03-21 16:04:13,921 - INFO  [Thread-5:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 16:04:13,922 - WARN  [BookieJournal-15002:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 16:04:13,942 - WARN  [NIOServerFactory-15003:NIOServerFactory@128] - Exception in server socket loop: /0:0:0:0:0:0:0:0
java.nio.channels.ClosedChannelException
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:211)
	at org.apache.bookkeeper.proto.NIOServerFactory.run(NIOServerFactory.java:115)
2013-03-21 16:04:13,943 - INFO  [NIOServerFactory-15003:NIOServerFactory@131] - NIOServerCnxn factory exitedloop.
2013-03-21 16:04:13,943 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bf9caab0003
2013-03-21 16:04:13,972 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:52033 which had sessionid 0x13d8bf9caab0003
2013-03-21 16:04:13,973 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bf9caab0003 closed
2013-03-21 16:04:13,973 - INFO  [Thread-6:LedgerDirsManager$LedgerDirsMonitor@184] - LedgerDirsMonitor thread is interrupted
2013-03-21 16:04:13,973 - WARN  [BookieJournal-15003:Journal@548] - Journal exits when shutting down
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2052)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at org.apache.bookkeeper.bookie.Journal.run(Journal.java:497)
2013-03-21 16:04:13,974 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 16:04:14,001 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bf9caab0004
2013-03-21 16:04:14,028 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bf9caab0004 closed
2013-03-21 16:04:14,028 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 16:04:14,028 - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@349] - caught end of stream exception
EndOfStreamException: Unable to read additional data from client sessionid 0x13d8bf9caab0004, likely client has closed socket
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:220)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:224)
	at java.lang.Thread.run(Thread.java:722)
2013-03-21 16:04:14,028 - INFO  [main:ClientBase@425] - tearDown starting
2013-03-21 16:04:14,029 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:52038 which had sessionid 0x13d8bf9caab0004
2013-03-21 16:04:14,029 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@466] - Processed session termination for sessionid: 0x13d8bf9caab0000
2013-03-21 16:04:14,045 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxn@1000] - Closed socket connection for client /127.0.0.1:52020 which had sessionid 0x13d8bf9caab0000
2013-03-21 16:04:14,045 - INFO  [main:ZooKeeper@679] - Session: 0x13d8bf9caab0000 closed
2013-03-21 16:04:14,045 - INFO  [main-EventThread:ClientCnxn$EventThread@511] - EventThread shut down
2013-03-21 16:04:14,045 - INFO  [main:ClientBase@395] - STOPPING server
2013-03-21 16:04:14,051 - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:15000:NIOServerCnxnFactory@240] - NIOServerCnxn factory exited run method
2013-03-21 16:04:14,051 - INFO  [main:ZooKeeperServer@428] - shutting down
2013-03-21 16:04:14,051 - INFO  [main:SessionTrackerImpl@220] - Shutting down
2013-03-21 16:04:14,051 - INFO  [main:PrepRequestProcessor@733] - Shutting down
2013-03-21 16:04:14,052 - INFO  [main:SyncRequestProcessor@173] - Shutting down
2013-03-21 16:04:14,052 - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@135] - PrepRequestProcessor exited loop!
2013-03-21 16:04:14,052 - INFO  [SyncThread:0:SyncRequestProcessor@155] - SyncRequestProcessor exited!
2013-03-21 16:04:14,052 - INFO  [main:FinalRequestProcessor@414] - shutdown of request processor complete
2013-03-21 16:04:14,053 - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 15000
2013-03-21 16:04:15,001 - INFO  [SessionTracker:SessionTrackerImpl@162] - SessionTrackerImpl exited loop!
2013-03-21 16:04:15,058 - INFO  [main:JMXEnv@133] - ensureOnly:[]
2013-03-21 16:04:15,065 - INFO  [main:HedwigHubTestBase@171] - FINISHED null
